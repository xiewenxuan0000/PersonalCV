{"ast":null,"code":"import React, { Component } from 'react';\nimport RAFManager from 'raf-manager';\nimport Proton from 'proton-engine';\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n// Code source from here, thanks author\n// https://github.com/drawcall/Proton/blob/gh-pages/source/src/utils/Rand.js\nvar Rand = function () {\n  function Rand() {\n    classCallCheck(this, Rand);\n    this.list = [];\n  }\n  createClass(Rand, [{\n    key: \"set\",\n    value: function set$$1(probability, target) {\n      this.list.push({\n        probability: probability,\n        target: target,\n        a: 0,\n        b: 1\n      });\n      this.calculation();\n    }\n  }, {\n    key: \"calculation\",\n    value: function calculation() {\n      var total = 0;\n      for (var i = 0; i < this.list.length; i++) {\n        total += this.list[i].probability;\n      }\n      for (var _i = 0; _i < this.list.length; _i++) {\n        var obj = this.list[_i];\n        var val = obj.probability / total;\n        obj.a = _i === 0 ? 0 : this.list[_i - 1].b;\n        obj.b = obj.a + val;\n      }\n    }\n  }, {\n    key: \"getResult\",\n    value: function getResult() {\n      var val = Math.random();\n      for (var i = 0; i < this.list.length; i++) {\n        var obj = this.list[i];\n        if (val <= obj.b && val > obj.a) {\n          return obj.target;\n        }\n      }\n      return this.list[0].target;\n    }\n  }]);\n  return Rand;\n}();\nvar Canvas = function (_React$Component) {\n  inherits(Canvas, _React$Component);\n  function Canvas(props) {\n    classCallCheck(this, Canvas);\n    var _this = possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this, props));\n    _this._iid = 0;\n    _this._oid = 0;\n    _this.size = {\n      width: 0,\n      height: 0\n    };\n    _this.canvasRef = React.createRef();\n    return _this;\n  }\n  createClass(Canvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      this._oid = setTimeout(function () {\n        _this2.initCanvas();\n        _this2.resize = _this2.resize.bind(_this2);\n        window.addEventListener(\"resize\", _this2.resize);\n      }, 100);\n      var canvas = this.getCanvas();\n      this.props.onCanvasDidMount && this.props.onCanvasDidMount(canvas);\n    }\n  }, {\n    key: \"initCanvas\",\n    value: function initCanvas() {\n      var canvas = this.getCanvas();\n      if (this.props.globalCompositeOperation) {\n        var context = canvas.getContext(\"2d\");\n        context.globalCompositeOperation = this.props.globalCompositeOperation;\n      }\n      var _setCanvasSize = this.setCanvasSize(canvas),\n        width = _setCanvasSize.width,\n        height = _setCanvasSize.height;\n      this.heartbeatDetectionCanvasSize(canvas);\n      this.props.onCanvasInited(canvas, width, height);\n    }\n  }, {\n    key: \"getCanvas\",\n    value: function getCanvas() {\n      var canvas = this.canvasRef.current;\n      return canvas;\n    }\n  }, {\n    key: \"heartbeatDetectionCanvasSize\",\n    value: function heartbeatDetectionCanvasSize(canvas) {\n      var _this3 = this;\n      this._iid = setInterval(function () {\n        if (_this3.canvasRef.current) {\n          var newHeight = _this3.canvasRef.current.clientHeight;\n          if (newHeight !== _this3.size.height) {\n            var _setCanvasSize2 = _this3.setCanvasSize(canvas),\n              width = _setCanvasSize2.width,\n              height = _setCanvasSize2.height;\n            _this3.props.onResize && _this3.props.onResize(width, height);\n          }\n        }\n      }, 1000 / 10);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        window.removeEventListener(\"resize\", this.resize);\n        clearInterval(this._iid);\n        clearTimeout(this._oid);\n      } catch (e) {}\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var canvas = this.getCanvas();\n      var _setCanvasSize3 = this.setCanvasSize(canvas),\n        width = _setCanvasSize3.width,\n        height = _setCanvasSize3.height;\n      this.props.onResize && this.props.onResize(width, height);\n    }\n  }, {\n    key: \"setCanvasSize\",\n    value: function setCanvasSize(canvas) {\n      var width = this.canvasRef.current.clientWidth;\n      var height = this.canvasRef.current.clientHeight;\n      this.size.width = width;\n      this.size.height = height;\n      canvas.width = width;\n      canvas.height = height;\n      return {\n        width: width,\n        height: height\n      };\n    }\n  }, {\n    key: \"handleWaypointEnter\",\n    value: function handleWaypointEnter() {\n      RAFManager.start();\n    }\n  }, {\n    key: \"handleWaypointLeave\",\n    value: function handleWaypointLeave() {\n      RAFManager.stop();\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle() {\n      var bg = this.props.bg;\n      var style = {\n        width: \"100%\",\n        height: \"100%\"\n      };\n      if (bg === true) {\n        style = Object.assign(style, {\n          position: \"absolute\",\n          zIndex: -1,\n          top: 0,\n          left: 0\n        });\n      } else if (bg && (typeof bg === \"undefined\" ? \"undefined\" : _typeof(bg)) === \"object\") {\n        style = Object.assign(style, bg);\n      }\n      return style;\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(e) {\n      this.props.onMouseDown && this.props.onMouseDown(e);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"canvas\", {\n        className: \"particles-bg-canvas-self\",\n        ref: this.canvasRef,\n        onMouseDown: this.handleMouseDown.bind(this),\n        style: this.getStyle()\n      });\n    }\n  }]);\n  return Canvas;\n}(React.Component);\nfunction hexToRgb(hex) {\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : {};\n}\nfunction getColor(color, a) {\n  var c = void 0;\n  if (color) {\n    c = hexToRgb(color);\n    return \"rgba(\" + c.r + \",\" + c.g + \",\" + c.b + \", \" + a + \")\";\n  } else {\n    return null;\n  }\n}\nvar Ball = function (_React$Component) {\n  inherits(Ball, _React$Component);\n  function Ball(props) {\n    classCallCheck(this, Ball);\n    var _this = possibleConstructorReturn(this, (Ball.__proto__ || Object.getPrototypeOf(Ball)).call(this, props));\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n  createClass(Ball, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      this.createMiniEmitter(canvas);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      var _this2 = this;\n      var context = canvas.getContext(\"2d\");\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(4, 9), new Proton.Span(0.8, 1.3));\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(1, 50));\n      emitter.addInitialize(new Proton.Life(5, 6));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(5, 8), new Proton.Span(30, 70), \"polar\"));\n      emitter.addBehaviour(new Proton.Alpha(1, 0));\n      emitter.addBehaviour(new Proton.Color([\"#36aaf3\", \"#fd769c\", \"#94ff22\", \"#ffa545\", \"#ffffff\"]));\n      emitter.addBehaviour(new Proton.Scale(0.7, 1));\n      emitter.addBehaviour(new Proton.Gravity(3));\n      emitter.addBehaviour(new Proton.Collision(emitter));\n      emitter.addBehaviour(this.customDeadBehaviour(canvas));\n      emitter.addBehaviour(new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"bound\"));\n      emitter.p.x = Math.min(500, Math.max(canvas.width / 2 - 400, 50));\n      emitter.p.y = canvas.height / 2 + 50;\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n      var renderer = new Proton.CanvasRenderer(canvas);\n      renderer.onProtonUpdate = function () {\n        context.fillStyle = getColor(_this2.props.color, 0.2) || \"rgba(255, 255, 255, 0.2)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"customDeadBehaviour\",\n    value: function customDeadBehaviour(canvas) {\n      var _this3 = this;\n      return {\n        initialize: function initialize(particle) {},\n        applyBehaviour: function applyBehaviour(particle) {\n          if (particle.p.y + particle.radius >= canvas.height) {\n            if (particle.radius > 9) {\n              _this3.miniEmitteing(particle);\n              particle.dead = true;\n            }\n          }\n        }\n      };\n    }\n  }, {\n    key: \"createMiniEmitter\",\n    value: function createMiniEmitter(canvas) {\n      var miniEmitter = new Proton.Emitter();\n      miniEmitter.rate = new Proton.Rate(new Proton.Span(3, 6), new Proton.Span(1, 2));\n      miniEmitter.addInitialize(new Proton.Mass(1));\n      miniEmitter.radiusInitialize = new Proton.Radius();\n      miniEmitter.addInitialize(miniEmitter.radiusInitialize);\n      miniEmitter.addInitialize(new Proton.Life(0.5, 1));\n      miniEmitter.addInitialize(new Proton.V(new Proton.Span(1.5, 3), new Proton.Span(0, 70, true), \"polar\"));\n      miniEmitter.colorBehaviour = new Proton.Color(\"#ffffff\");\n      miniEmitter.addBehaviour(new Proton.Alpha(1, 0));\n      miniEmitter.addBehaviour(miniEmitter.colorBehaviour);\n      miniEmitter.addBehaviour(new Proton.Gravity(4));\n      miniEmitter.addBehaviour(new Proton.Collision(miniEmitter));\n      miniEmitter.addBehaviour(new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"bound\"));\n      this.proton.addEmitter(miniEmitter);\n      this.miniEmitter = miniEmitter;\n    }\n  }, {\n    key: \"miniEmitteing\",\n    value: function miniEmitteing(particle) {\n      var miniEmitter = this.miniEmitter;\n      miniEmitter.radiusInitialize.reset(particle.radius * 0.05, particle.radius * 0.2);\n      miniEmitter.colorBehaviour.reset(particle.color);\n      miniEmitter.p.x = particle.p.x;\n      miniEmitter.p.y = particle.p.y;\n      miniEmitter.emit(\"once\");\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Ball;\n}(React.Component);\nvar Color = function (_React$Component) {\n  inherits(Color, _React$Component);\n  function Color(props) {\n    classCallCheck(this, Color);\n    var _this = possibleConstructorReturn(this, (Color.__proto__ || Object.getPrototypeOf(Color)).call(this, props));\n    _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n  createClass(Color, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(5, 8), new Proton.Span(0.1, 0.25));\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(20, 200));\n      emitter.addInitialize(new Proton.Life(2, 4));\n      emitter.addInitialize(new Proton.Position(new Proton.RectZone(0, 0, width, height)));\n      emitter.addBehaviour(new Proton.Alpha(0, 1, Infinity, Proton.easeOutCubic));\n      emitter.addBehaviour(new Proton.Scale(1, 0, Infinity, Proton.easeOutCubic));\n      emitter.addBehaviour(new Proton.Color(this.colors, \"random\"));\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n      var renderer = new Proton.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Color;\n}(React.Component);\nvar Color$1 = function (_React$Component) {\n  inherits(Color, _React$Component);\n  function Color(props) {\n    classCallCheck(this, Color);\n    var _this = possibleConstructorReturn(this, (Color.__proto__ || Object.getPrototypeOf(Color)).call(this, props));\n    _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n  createClass(Color, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"getProp\",\n    value: function getProp(key, defaultVal) {\n      var config = this.props.config || {};\n      var val = config[key] || defaultVal;\n      if (Array.isArray(val)) {\n        return new Proton.Span(val[0], val[1]);\n      } else {\n        return val;\n      }\n    }\n  }, {\n    key: \"getArrProp\",\n    value: function getArrProp(key, defaultVal) {\n      var config = this.props.config || {};\n      var val = config[key] || defaultVal;\n      if (!val) return null;\n      if (Array.isArray(val)) {\n        return val;\n      } else {\n        return [val, val];\n      }\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      var num = this.getProp(\"num\", [5, 8]);\n      var rps = this.getProp(\"rps\", [0.1, 0.2]);\n      var mass = this.getProp(\"mass\", 1);\n      var radius = this.getProp(\"radius\", [10, 30]);\n      var life = this.getProp(\"life\", [2, 3]);\n      var body = this.getProp(\"body\");\n      var position = this.getProp(\"position\");\n      var v = this.getProp(\"v\", [2, 3]);\n      var tha = this.getProp(\"tha\", [-15, 15]);\n      var alpha = this.getArrProp(\"alpha\");\n      var scale = this.getArrProp(\"scale\");\n      var color = this.getArrProp(\"color\");\n      var cross = this.getProp(\"cross\", \"dead\");\n      var random = this.getProp(\"random\");\n      var rotate = this.getArrProp(\"rotate\");\n      var g = this.getProp(\"g\");\n      var f = this.getArrProp(\"f\");\n      var emitterV = this.getProp(\"emitter\");\n      this.proton = new Proton();\n      var emitter = void 0;\n      if (emitterV === \"follow\") {\n        emitter = new Proton.FollowEmitter();\n      } else {\n        emitter = new Proton.Emitter();\n      }\n      emitter.rate = new Proton.Rate(num, rps);\n      emitter.addInitialize(new Proton.Mass(mass));\n      emitter.addInitialize(new Proton.Radius(radius));\n      emitter.addInitialize(new Proton.Life(life));\n      emitter.addInitialize(new Proton.Velocity(v, tha, \"polar\"));\n      if (body) emitter.addInitialize(new Proton.Body(body));\n      var pos = void 0;\n      if (position === \"all\" || position === \"screen\") {\n        pos = new Proton.Position(new Proton.RectZone(0, 0, canvas.width, canvas.height));\n      } else if ((typeof position === \"undefined\" ? \"undefined\" : _typeof(position)) === \"object\") {\n        pos = new Proton.Position(new Proton.RectZone(position.x, position.y, position.width, position.height));\n      } else {\n        emitter.p.x = canvas.width / 2;\n        emitter.p.y = canvas.height / 2;\n      }\n      emitter.addInitialize(pos);\n\n      /// behaviour\n      var alphaB = alpha ? new Proton.Alpha(alpha[0], alpha[1]) : new Proton.Alpha(0, 1);\n      var scaleB = scale ? new Proton.Scale(scale[0], scale[1]) : new Proton.Scale(1, 0.2);\n      var colorB = color ? new Proton.Color(color[0], color[1]) : new Proton.Color(this.colors);\n      emitter.addBehaviour(alphaB);\n      emitter.addBehaviour(scaleB);\n      if (!body) emitter.addBehaviour(colorB);\n      if (rotate) {\n        if (rotate[0] === true || rotate[0] === \"rotate\") {\n          emitter.addBehaviour(new Proton.Rotate());\n        } else {\n          emitter.addBehaviour(new Proton.Rotate(rotate[0], rotate[1]));\n        }\n      }\n      var zone = new Proton.RectZone(0, 0, canvas.width, canvas.height);\n      var crossZoneBehaviour = new Proton.CrossZone(zone, cross);\n      emitter.addBehaviour(crossZoneBehaviour);\n      random && emitter.addBehaviour(new Proton.RandomDrift(random, random, 0.05));\n      g && emitter.addBehaviour(new Proton.G(g));\n      f && emitter.addBehaviour(new Proton.F(f[0], f[1]));\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n      var renderer = this.createRenderer(canvas);\n      this.proton.addRenderer(renderer);\n      this.emitter = emitter;\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var width = canvas.width;\n      var height = canvas.height;\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n      var onUpdate = this.getProp(\"onUpdate\");\n      if (onUpdate) {\n        renderer.onProtonUpdate = function () {\n          onUpdate(context, width, height);\n        };\n      }\n      var onParticleCreated = this.getProp(\"onParticleCreated\");\n      if (onParticleCreated) {\n        renderer.onParticleCreated = function (particle) {\n          onParticleCreated(context, particle);\n        };\n      }\n      var onParticleUpdate = this.getProp(\"onParticleUpdate\");\n      if (onParticleUpdate) {\n        renderer.onParticleUpdate = function (particle) {\n          onParticleUpdate(context, particle);\n        };\n      }\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(e) {\n      var onMouseDown = this.getProp(\"onMouseDown\");\n      if (onMouseDown) {\n        onMouseDown(e);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var globalCompositeOperation = this.props.globalCompositeOperation || this.props.operation || \"source-over\";\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        onMouseDown: this.handleMouseDown.bind(this),\n        globalCompositeOperation: globalCompositeOperation,\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Color;\n}(React.Component);\nvar Lines = function (_React$Component) {\n  inherits(Lines, _React$Component);\n  function Lines(props) {\n    classCallCheck(this, Lines);\n    var _this = possibleConstructorReturn(this, (Lines.__proto__ || Object.getPrototypeOf(Lines)).call(this, props));\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n  createClass(Lines, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {\n      if (this.props.color) {\n        canvas.style.backgroundColor = this.props.color;\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 250);\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(4));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(1.5), new Proton.Span(0, 360), \"polar\"));\n      var mouseObj = {\n        x: width / 2,\n        y: height / 2\n      };\n      var attractionBehaviour = new Proton.Attraction(mouseObj, 0, 0);\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(new Proton.Color(\"random\"));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.RandomDrift(10, 10, 0.05));\n      emitter.p.x = canvas.width / 2;\n      emitter.p.y = canvas.height / 2;\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var _this2 = this;\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n      renderer.onProtonUpdate = function () {\n        context.fillStyle = getColor(_this2.props.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n      renderer.onParticleUpdate = function (particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n        context.lineWidth = 1;\n        context.moveTo(particle.old.p.x, particle.old.p.y);\n        context.lineTo(particle.p.x, particle.p.y);\n        context.closePath();\n        context.stroke();\n      };\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Lines;\n}(React.Component);\nvar Thick = function (_React$Component) {\n  inherits(Thick, _React$Component);\n  function Thick(props) {\n    classCallCheck(this, Thick);\n    var _this = possibleConstructorReturn(this, (Thick.__proto__ || Object.getPrototypeOf(Thick)).call(this, props));\n    _this.hue = 0;\n    _this.index = 0;\n    _this.colorTemplate = \"hsla(hue,80%,50%, 0.75)\";\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n  createClass(Thick, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {\n      if (this.props.color) {\n        canvas.style.backgroundColor = this.props.color;\n      }\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.canvas = canvas;\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 150);\n\n      // Initialize\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(8));\n      emitter.addInitialize(new Proton.V(new Proton.Span(0.1, 0.5), new Proton.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.CircleZone(canvas.width / 2, canvas.height / 2, 100)));\n\n      // Behaviour\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      this.repulsion = new Proton.Repulsion({\n        x: canvas.width / 2,\n        y: canvas.height / 2 - 100\n      }, 3, 300);\n      this.attraction = new Proton.Attraction({\n        x: canvas.width / 2,\n        y: canvas.height / 2\n      }, 3, 200);\n      emitter.addBehaviour(this.attraction, this.repulsion);\n      emitter.addBehaviour(new Proton.Color(\"random\"));\n      emitter.addBehaviour(new Proton.RandomDrift(20, 15, 0.15));\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var _this2 = this;\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n      renderer.onProtonUpdate = function () {\n        _this2.hue += 1;\n        context.fillStyle = getColor(_this2.props.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n      renderer.onParticleCreated = function (particle) {\n        particle.data.begin = Proton.MathUtil.randomAToB(1, 120);\n        particle.data.tha = Proton.MathUtil.randomAToB(0, Math.PI * 2);\n      };\n      renderer.onParticleUpdate = function (particle) {\n        var hue = particle.data.begin + _this2.hue;\n        particle.color = _this2.colorTemplate.replace(\"hue\", hue % 360);\n        var ratio = 3 / 4;\n        var radius = particle.radius * (1 - ratio) * Math.cos(particle.data.tha += 0.01) + particle.radius * ratio;\n        context.beginPath();\n        context.fillStyle = particle.color;\n        context.arc(particle.p.x, particle.p.y, radius, 0, Math.PI * 2, true);\n        context.closePath();\n        context.fill();\n      };\n      return renderer;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      var canvas = this.canvas;\n      this.proton.update();\n      if (this.index % 200 === 0) {\n        this.attraction.targetPosition.x = Math.random() * canvas.width;\n        this.attraction.targetPosition.y = Math.random() * canvas.height;\n        this.repulsion.targetPosition.x = Math.random() * canvas.width;\n        this.repulsion.targetPosition.y = Math.random() * canvas.height;\n      }\n      this.index++;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Thick;\n}(React.Component);\nvar Square = function (_React$Component) {\n  inherits(Square, _React$Component);\n  function Square(props) {\n    classCallCheck(this, Square);\n    var _this = possibleConstructorReturn(this, (Square.__proto__ || Object.getPrototypeOf(Square)).call(this, props));\n    _this.colors = [\"#fad390\", \"#81ecec\", \"#ffffff\", \"#badc58\", \"#f9ca24\", \"#FEA47F\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n  createClass(Square, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {}\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      var dis = 150;\n      this.crossZoneBehaviour.zone.width = width + 2 * dis;\n      this.crossZoneBehaviour.zone.height = height + 2 * dis;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 50);\n      emitter.damping = 0;\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(4, 70));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(2, 10), new Proton.Span(0), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.LineZone(0, canvas.height, canvas.width, canvas.height)));\n      var dis = 150;\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0 - dis, 0 - dis, canvas.width + 2 * dis, canvas.height + 2 * dis), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.1, 0.55)));\n      emitter.addBehaviour(new Proton.Color(this.colors));\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      var renderer = this.createRenderer(canvas);\n      this.proton.addRenderer(renderer);\n      this.crossZoneBehaviour = crossZoneBehaviour;\n      emitter.preEmit(2);\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CustomRenderer();\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n      renderer.onParticleCreated = function (particle) {\n        var w = particle.radius || 60;\n        var h = Proton.MathUtil.randomAToB(100, 200, \"int\");\n        particle.data.w = w;\n        particle.data.h = h;\n      };\n      renderer.onParticleUpdate = function (particle) {\n        var w = particle.data.w;\n        var h = particle.data.h;\n        context.save();\n        context.globalAlpha = particle.alpha;\n        context.fillStyle = particle.color;\n        context.translate(particle.p.x, particle.p.y);\n        context.rotate(Proton.MathUtil.degreeTransform(particle.rotation));\n        context.translate(-particle.p.x, -particle.p.y);\n        context.beginPath();\n        context.rect(particle.p.x - w / 2, particle.p.y - h / 2, w, h);\n        context.closePath();\n        context.fill();\n        context.globalAlpha = 1;\n        context.restore();\n      };\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"lighter\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Square;\n}(React.Component);\nvar Cobweb = function (_React$Component) {\n  inherits(Cobweb, _React$Component);\n  function Cobweb(props) {\n    classCallCheck(this, Cobweb);\n    var _this = possibleConstructorReturn(this, (Cobweb.__proto__ || Object.getPrototypeOf(Cobweb)).call(this, props));\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n  createClass(Cobweb, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(100), new Proton.Span(0.05, 0.2));\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(1, 4));\n      emitter.addInitialize(new Proton.Life(Infinity));\n      var pointZone = new Proton.Position(new Proton.RectZone(0, 0, width, height));\n      emitter.addInitialize(pointZone);\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(0.3, 0.6), new Proton.Span(0, 360), \"polar\"));\n      emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.2, 0.9)));\n      emitter.addBehaviour(new Proton.Color(this.props.color || \"#333\"));\n      this.crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, width, height), \"cross\");\n      emitter.addBehaviour(this.crossZoneBehaviour);\n      emitter.emit(\"once\");\n      emitter.damping = 0;\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas, emitter));\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas, emitter) {\n      var _this2 = this;\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n      var R = 140;\n      renderer.onProtonUpdateAfter = function () {\n        var particles = emitter.particles;\n        for (var i = 0; i < particles.length; i++) {\n          for (var j = i + 1; j < particles.length; j++) {\n            var pA = particles[i];\n            var pB = particles[j];\n            var dis = pA.p.distanceTo(pB.p);\n            if (dis < R) {\n              var alpha = (1 - dis / R) * 0.5;\n              context.strokeStyle = getColor(_this2.props.color, alpha) || \"rgba(3, 3, 3, \" + alpha + \")\";\n              context.beginPath();\n              context.moveTo(pA.p.x, pA.p.y);\n              context.lineTo(pB.p.x, pB.p.y);\n              context.closePath();\n              context.stroke();\n            }\n          }\n        }\n      };\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Cobweb;\n}(React.Component);\nvar Circle = function (_React$Component) {\n  inherits(Circle, _React$Component);\n  function Circle(props) {\n    classCallCheck(this, Circle);\n    var _this = possibleConstructorReturn(this, (Circle.__proto__ || Object.getPrototypeOf(Circle)).call(this, props));\n    _this.colors = [\"#74b9ff\", \"#e84393\", \"#6c5ce7\", \"#00b894\", \"#fdcb6e\", \"#006266\", \"#1B1464\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n  createClass(Circle, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num || 20);\n      emitter.damping = 0.008;\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(30, 600));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(0.5), new Proton.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.RectZone(0, 0, canvas.width, canvas.height)));\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.35, 0.55)));\n      emitter.addBehaviour(new Proton.Color(this.getColor()));\n      emitter.addBehaviour(new Proton.RandomDrift(50, 50, 0.5));\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      var renderer = new Proton.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"getColor\",\n    value: function getColor() {\n      var c = this.colors;\n      if (this.props.color) {\n        if (Array.isArray(this.props.color)) {\n          c = this.props.color;\n        } else {\n          c = [this.props.color];\n        }\n      }\n      return c;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darken\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Circle;\n}(React.Component);\nvar Tadpole = function (_React$Component) {\n  inherits(Tadpole, _React$Component);\n  function Tadpole(props) {\n    classCallCheck(this, Tadpole);\n    var _this = possibleConstructorReturn(this, (Tadpole.__proto__ || Object.getPrototypeOf(Tadpole)).call(this, props));\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n  createClass(Tadpole, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {}\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      this.renderProton();\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 50);\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(5, 9));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(1.5), new Proton.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.RectZone(0, 0, width, height)));\n      var mouseInfo = {\n        x: width / 2,\n        y: height / 2\n      };\n      var attractionBehaviour = new Proton.Attraction(mouseInfo, 0, 0);\n      var crossZoneBehaviour = new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), \"bound\");\n      emitter.addBehaviour(new Proton.Color(this.props.color || \"#bbb\"));\n      //emitter.addBehaviour(new Proton.Alpha(new Proton.Span(0.5, 1)));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.RandomDrift(15, 15, 0.05));\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var jointCount = 10;\n      var delayTime = 8;\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CanvasRenderer(canvas);\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n      renderer.onParticleCreated = function (particle) {\n        particle.data.points = [];\n        particle.data.index = 0;\n      };\n      renderer.onParticleUpdate = function (particle) {\n        drawTadpoleTail(particle);\n        if (particle.data.index % delayTime === 0) fillPointsData(particle);\n        drawTadpoleHead(particle);\n        particle.data.index++;\n      };\n      var fillPointsData = function fillPointsData(particle) {\n        particle.data.points.unshift(particle.p.y);\n        particle.data.points.unshift(particle.p.x);\n        if (particle.data.points.length > jointCount) {\n          particle.data.points.pop();\n          particle.data.points.pop();\n        }\n      };\n      var drawTadpoleHead = function drawTadpoleHead(particle) {\n        context.fillStyle = particle.color;\n        context.beginPath();\n        context.arc(particle.p.x, particle.p.y, particle.radius, 0, Math.PI * 2, true);\n        context.closePath();\n        context.fill();\n      };\n      var drawTadpoleTail = function drawTadpoleTail(particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n        context.moveTo(particle.p.x, particle.p.y);\n        var l = particle.data.points.length;\n        for (var i = 0; i < l; i += 2) {\n          var x = particle.data.points[i];\n          var y = particle.data.points[i + 1];\n          context.lineWidth = linearEvaluation(i, l);\n          context.lineTo(x, y);\n          context.stroke();\n        }\n      };\n      var linearEvaluation = function linearEvaluation(i, l) {\n        if (l <= 2) return 1;\n        var max = 6;\n        var A = (max - 1) / (2 / l - 1);\n        var B = 1 - A;\n        var X = (i + 2) / l;\n        var val = A * X + B;\n        val = val >> 0;\n        return val;\n      };\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      var _this2 = this;\n      RAFManager.add(function () {\n        _this2.proton.update();\n        //this.proton.stats.update();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Tadpole;\n}(React.Component);\nvar COLOR = [\"#f6b93b\", \"#18dcff\", \"#cd84f1\", \"#ED4C67\", \"#ffffff\", \"#b71540\", \"#32ff7e\", \"#ff3838\"];\nvar Polygon = function (_React$Component) {\n  inherits(Polygon, _React$Component);\n  function Polygon(props) {\n    classCallCheck(this, Polygon);\n    var _this = possibleConstructorReturn(this, (Polygon.__proto__ || Object.getPrototypeOf(Polygon)).call(this, props));\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n  createClass(Polygon, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas);\n      this.createEmitter({\n        canvas: canvas,\n        x: width / 2,\n        y: height / 2,\n        mainEmitter: true,\n        zone: \"bound\"\n      });\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas) {\n      this.proton = new Proton();\n      var renderer = this.createRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var context = canvas.getContext(\"2d\");\n      var renderer = new Proton.CustomRenderer();\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n      renderer.onParticleCreated = function (particle) {\n        particle.data.count = Proton.MathUtil.randomAToB(3, 10, true);\n      };\n      renderer.onParticleUpdate = function (particle) {\n        context.save();\n        context.globalAlpha = particle.alpha;\n        context.fillStyle = particle.color;\n        context.translate(particle.p.x, particle.p.y);\n        context.rotate(Proton.MathUtil.degreeTransform(particle.rotation));\n        context.translate(-particle.p.x, -particle.p.y);\n        context.beginPath();\n        drawPolygon(particle, particle.data.count);\n        context.closePath();\n        context.fill();\n        context.globalAlpha = 1;\n        context.restore();\n      };\n      renderer.onParticleDead = function (particle) {};\n      var drawPolygon = function drawPolygon(particle, count) {\n        if (count >= 7) {\n          context.arc(particle.p.x, particle.p.y, particle.radius, 0, Math.PI * 2, true);\n        } else {\n          var radius = particle.radius;\n          for (var i = 0; i <= count; i++) {\n            var x = particle.p.x + radius * Math.cos(Math.PI / 180 * 360 / count * i);\n            var y = particle.p.y + radius * Math.sin(Math.PI / 180 * 360 / count * i);\n            if (i === 0) context.moveTo(x, y);else context.lineTo(x, y);\n          }\n        }\n      };\n      return renderer;\n    }\n  }, {\n    key: \"createEmitter\",\n    value: function createEmitter(_ref) {\n      var mainEmitter = _ref.mainEmitter,\n        canvas = _ref.canvas,\n        x = _ref.x,\n        y = _ref.y,\n        radius = _ref.radius,\n        _ref$color = _ref.color,\n        color = _ref$color === undefined ? COLOR : _ref$color,\n        _ref$zone = _ref.zone,\n        zone = _ref$zone === undefined ? \"dead\" : _ref$zone,\n        _ref$once = _ref.once,\n        once = _ref$once === undefined ? \"all\" : _ref$once,\n        _ref$alpha = _ref.alpha,\n        alpha = _ref$alpha === undefined ? 0.85 : _ref$alpha,\n        _ref$gravity = _ref.gravity,\n        gravity = _ref$gravity === undefined ? 3.5 : _ref$gravity;\n      var emitter = this.proton.pool.get(Proton.Emitter);\n      if (!emitter.completed) {\n        emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(4, 9), new Proton.Span(1.6, 2.2));\n        var radiusInit = mainEmitter ? new Proton.Radius(10, 110) : new Proton.Radius(3, radius);\n        emitter.addInitialize(new Proton.Mass(1));\n        emitter.addInitialize(radiusInit);\n        emitter.addInitialize(new Proton.Life(3, 6));\n        emitter.addInitialize(new Proton.Velocity(new Proton.Span(4, 6), new Proton.Span(-90, 90), \"polar\"));\n        emitter.addBehaviour(new Proton.Alpha(alpha, 0.2));\n        emitter.addBehaviour(new Proton.Color(color));\n        emitter.addBehaviour(new Proton.Scale(1, 0.3));\n        emitter.addBehaviour(new Proton.Rotate());\n        emitter.addBehaviour(new Proton.Gravity(gravity));\n        emitter.addBehaviour(this.customDeadBehaviour(canvas));\n        emitter.addBehaviour(new Proton.CrossZone(new Proton.RectZone(0, 0, canvas.width, canvas.height), zone));\n      }\n      emitter.p.x = x;\n      emitter.p.y = y;\n      if (once === \"once\") emitter.emit(\"once\");else emitter.emit();\n      this.proton.addEmitter(emitter);\n      //this.expireEmitter(emitter);\n    }\n  }, {\n    key: \"expireEmitter\",\n    value: function expireEmitter(emitter) {\n      var _this2 = this;\n      setTimeout(function () {\n        emitter.completed = true;\n        _this2.proton.pool.expire(emitter);\n        _this2.proton.removeEmitter(emitter);\n      }, 500);\n    }\n  }, {\n    key: \"customDeadBehaviour\",\n    value: function customDeadBehaviour(canvas) {\n      var _this3 = this;\n      return {\n        initialize: function initialize(particle) {\n          particle.data = particle.data || {};\n          particle.data.oldRadius = particle.radius;\n          particle.data.emitterCount = 0;\n        },\n        applyBehaviour: function applyBehaviour(particle) {\n          if (particle.radius < 5) return;\n          if (particle.data.emitterCount >= 2) return;\n          if (particle.radius <= 1 / 3 * particle.data.oldRadius) {\n            particle.data.emitterCount++;\n            _this3.createEmitter({\n              canvas: canvas,\n              x: particle.p.x,\n              y: particle.p.y,\n              radius: particle.radius * (1 / 2),\n              alpha: 0.5,\n              gravity: 5,\n              color: particle.color,\n              once: \"once\"\n            });\n          }\n        }\n      };\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Polygon;\n}(React.Component);\nvar Fountain = function (_React$Component) {\n  inherits(Fountain, _React$Component);\n  function Fountain(props) {\n    classCallCheck(this, Fountain);\n    var _this = possibleConstructorReturn(this, (Fountain.__proto__ || Object.getPrototypeOf(Fountain)).call(this, props));\n    _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n  createClass(Fountain, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        RAFManager.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      RAFManager.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new Proton();\n      var emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(4, 8), new Proton.Span(0.1, 0.25));\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(20, 200));\n      emitter.addInitialize(new Proton.Life(2, 4));\n      emitter.addInitialize(new Proton.Velocity(new Proton.Span(4, 7), new Proton.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new Proton.Position(new Proton.CircleZone(width / 2, height / 2, 100)));\n      emitter.addBehaviour(new Proton.Alpha(1, 0));\n      emitter.addBehaviour(new Proton.Scale(0.2, 1));\n      emitter.addBehaviour(this.createCustomBehaviour());\n      emitter.addBehaviour(new Proton.Color(this.colors, \"random\"));\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n      var renderer = new Proton.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"createCustomBehaviour\",\n    value: function createCustomBehaviour() {\n      var f = 10 * 100;\n      return {\n        initialize: function initialize(particle) {\n          particle.f = new Proton.Vector2D(0, 0);\n        },\n        applyBehaviour: function applyBehaviour(particle) {\n          var length = particle.v.length() / 1000;\n          var gradient = particle.v.getGradient();\n          gradient += 3.14 / 2;\n          particle.f.x = f * length * Math.cos(gradient);\n          particle.f.y = f * length * Math.sin(gradient);\n          particle.a.add(particle.f);\n        }\n      };\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Canvas, {\n        bg: this.props.bg,\n        globalCompositeOperation: \"xor\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Fountain;\n}(React.Component);\nvar ParticlesBg = function (_Component) {\n  inherits(ParticlesBg, _Component);\n  function ParticlesBg(props) {\n    classCallCheck(this, ParticlesBg);\n    return possibleConstructorReturn(this, (ParticlesBg.__proto__ || Object.getPrototypeOf(ParticlesBg)).call(this, props));\n  }\n  createClass(ParticlesBg, [{\n    key: \"getRandom\",\n    value: function getRandom() {\n      var _props = this.props,\n        num = _props.num,\n        bg = _props.bg,\n        color = _props.color;\n\n      // Code source from here, thanks author\n      // https://github.com/drawcall/Proton/blob/gh-pages/source/src/utils/Rand.js\n\n      if (!this.random) {\n        this.random = new Rand();\n        this.random.set(0.25, React.createElement(Color, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.2, React.createElement(Ball, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.2, React.createElement(Lines, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.16, React.createElement(Thick, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.18, React.createElement(Circle, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.04, React.createElement(Cobweb, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.1, React.createElement(Polygon, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.08, React.createElement(Square, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.18, React.createElement(Tadpole, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n        this.random.set(0.15, React.createElement(Fountain, {\n          num: num,\n          bg: bg,\n          color: color\n        }));\n      }\n      return this.random.getResult();\n    }\n  }, {\n    key: \"getBgParticles\",\n    value: function getBgParticles() {\n      var _props2 = this.props,\n        type = _props2.type,\n        num = _props2.num,\n        bg = _props2.bg,\n        color = _props2.color,\n        config = _props2.config;\n      var particles = void 0;\n      switch (String(type).toLowerCase()) {\n        case \"color\":\n          particles = React.createElement(Color, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n        case \"ball\":\n          particles = React.createElement(Ball, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n        case \"lines\":\n          particles = React.createElement(Lines, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n        case \"thick\":\n          particles = React.createElement(Thick, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n        case \"circle\":\n          particles = React.createElement(Circle, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n        case \"cobweb\":\n          particles = React.createElement(Cobweb, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n        case \"polygon\":\n          particles = React.createElement(Polygon, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n        case \"square\":\n          particles = React.createElement(Square, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n        case \"tadpole\":\n          particles = React.createElement(Tadpole, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n        case \"fountain\":\n          particles = React.createElement(Fountain, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n        case \"custom\":\n          particles = React.createElement(Color$1, {\n            bg: bg,\n            config: config\n          });\n          break;\n        case \"random\":\n          particles = this.getRandom(num);\n          break;\n        default:\n          particles = React.createElement(Color, {\n            num: num,\n            bg: bg,\n            color: color\n          });\n          break;\n      }\n      return particles;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var particles = this.getBgParticles();\n      return React.createElement(React.Fragment, null, particles);\n    }\n  }]);\n  return ParticlesBg;\n}(Component);\nexport default ParticlesBg;","map":{"version":3,"sources":["../src/utils/Rand.js","../src/particles/Canvas.jsx","../src/utils/Color.js","../src/particles/Ball.jsx","../src/particles/Color.jsx","../src/particles/Custom.jsx","../src/particles/Lines.jsx","../src/particles/Thick.jsx","../src/particles/Square.jsx","../src/particles/Cobweb.jsx","../src/particles/Circle.jsx","../src/particles/Tadpole.jsx","../src/particles/Polygon.jsx","../src/particles/Fountain.jsx","../src/index.js"],"names":["Rand","list","probability","target","push","calculation","total","i","length","obj","val","a","b","Math","random","Canvas","React","Component","props","_iid","_oid","size","width","height","canvasRef","createRef","initCanvas","resize","bind","addEventListener","canvas","getCanvas","onCanvasDidMount","globalCompositeOperation","context","getContext","setCanvasSize","heartbeatDetectionCanvasSize","onCanvasInited","current","newHeight","clientHeight","onResize","removeEventListener","e","clientWidth","start","stop","bg","style","assign","Object","onMouseDown","handleMouseDown","getStyle","hexToRgb","hex","result","exec","parseInt","getColor","color","c","r","g","Ball","renderProton","createProton","createMiniEmitter","add","remove","proton","destroy","Proton","emitter","Emitter","rate","Rate","num","Span","addInitialize","Mass","Radius","Life","Velocity","addBehaviour","Alpha","Color","Scale","Gravity","Collision","customDeadBehaviour","CrossZone","RectZone","p","x","min","max","y","emit","addEmitter","renderer","CanvasRenderer","onProtonUpdate","fillStyle","fillRect","addRenderer","particle","radius","miniEmitteing","dead","miniEmitter","radiusInitialize","V","colorBehaviour","reset","update","colors","Position","Infinity","easeOutCubic","crossZoneBehaviour","zone","renderers","key","defaultVal","config","Array","isArray","getProp","rps","mass","life","body","position","v","tha","alpha","getArrProp","scale","cross","rotate","f","emitterV","FollowEmitter","Body","pos","alphaB","scaleB","colorB","Rotate","RandomDrift","G","F","createRenderer","onUpdate","onParticleCreated","onParticleUpdate","operation","Lines","backgroundColor","damping","mouseObj","attractionBehaviour","Attraction","beginPath","strokeStyle","lineWidth","moveTo","old","lineTo","closePath","stroke","Thick","hue","index","colorTemplate","CircleZone","repulsion","Repulsion","attraction","data","begin","MathUtil","randomAToB","PI","replace","ratio","cos","arc","fill","targetPosition","Square","dis","LineZone","getSpan","preEmit","CustomRenderer","clearRect","w","h","save","globalAlpha","translate","degreeTransform","rotation","rect","restore","Cobweb","pointZone","R","onProtonUpdateAfter","particles","j","pA","pB","distanceTo","Circle","Tadpole","mouseInfo","jointCount","delayTime","points","fillPointsData","unshift","pop","drawTadpoleHead","drawTadpoleTail","l","linearEvaluation","A","B","X","COLOR","Polygon","createEmitter","count","onParticleDead","drawPolygon","sin","mainEmitter","once","gravity","pool","get","completed","radiusInit","expire","removeEmitter","oldRadius","emitterCount","Fountain","createCustomBehaviour","Vector2D","gradient","getGradient","ParticlesBg","set","getResult","type","String","toLowerCase","Custom","getRandom","getBgParticles"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;IAEMA,IAAAA,GAAAA,YAAAA;kBAEU;;SACLC,IAAL,GAAY,EAAZ;;;;2BAGAC,WAAAA,EAAaC,MAAAA,EAAQ;WAChBF,IAAL,CAAUG,IAAV,CAAe;gCAAA;sBAAA;WAGR,CAHQ;WAIR;OAJP,CAAA;WAOKC,WAAL,EAAA;;;;kCAGU;UACNC,KAAAA,GAAQ,CAAZ;WACK,IAAIC,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI,IAAA,CAAKN,IAAL,CAAUO,MAA9B,EAAsCD,CAAAA,EAAtC,EAA2C;iBAC9B,IAAA,CAAKN,IAAL,CAAUM,CAAV,CAAA,CAAaL,WAAtB;;WAGC,IAAIK,EAAAA,GAAI,CAAb,EAAgBA,EAAAA,GAAI,IAAA,CAAKN,IAAL,CAAUO,MAA9B,EAAsCD,EAAAA,EAAtC,EAA2C;YACjCE,GAAAA,GAAM,IAAA,CAAKR,IAAL,CAAUM,EAAV,CAAZ;YACMG,GAAAA,GAAMD,GAAAA,CAAIP,WAAJO,GAAkBH,KAA9B;YAEIK,CAAJ,GAAQJ,EAAAA,KAAM,CAANA,GAAU,CAAVA,GAAc,IAAA,CAAKN,IAAL,CAAUM,EAAAA,GAAI,CAAd,CAAA,CAAiBK,CAAvC;YACIA,CAAJ,GAAQH,GAAAA,CAAIE,CAAJF,GAAQC,GAAhB;;;;;gCAII;UACFA,GAAAA,GAAMG,IAAAA,CAAKC,MAALD,EAAZ;WACK,IAAIN,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI,IAAA,CAAKN,IAAL,CAAUO,MAA9B,EAAsCD,CAAAA,EAAtC,EAA2C;YACjCE,GAAAA,GAAM,IAAA,CAAKR,IAAL,CAAUM,CAAV,CAAZ;YAEIG,GAAAA,IAAOD,GAAAA,CAAIG,CAAXF,IAAgBA,GAAAA,GAAMD,GAAAA,CAAIE,CAA9B,EAAiC;iBACtBF,GAAAA,CAAIN,MAAX;;;aAID,IAAA,CAAKF,IAAL,CAAU,CAAV,CAAA,CAAaE,MAApB;;;;;IC1CeY,MAAAA,GAAAA,UAAAA,gBAAAA,EAAAA;;kBACPG,KAAZ,EAAmB;;+GACXA,KADW,CAAA,CAAA;UAGZC,IAAL,GAAY,CAAZ;UACKC,IAAL,GAAY,CAAZ;UACKC,IAAL,GAAY;MAAEC,KAAAA,EAAO,CAAT;MAAYC,MAAAA,EAAZ;IAAA,CAAZ;UACKC,SAAL,GAAiBR,KAAAA,CAAMS,SAANT,EAAjB;;;;;wCAGkB;;WACbI,IAAL,GAAY,UAAA,CAAW,YAAM;eACtBM,UAAL,EAAA;eACKC,MAAL,GAAc,MAAA,CAAKA,MAAL,CAAYC,IAAZ,CAAiB,MAAjB,CAAd;eACOC,gBAAP,CAAwB,QAAxB,EAAkC,MAAA,CAAKF,MAAvC,CAAA;OAHU,EAIT,GAJS,CAAZ;UAMMG,MAAAA,GAAS,IAAA,CAAKC,SAAL,EAAf;WACKb,KAAL,CAAWc,gBAAX,IAA+B,IAAA,CAAKd,KAAL,CAAWc,gBAAX,CAA4BF,MAA5B,CAA/B;;;;iCAGW;UACLA,MAAAA,GAAS,IAAA,CAAKC,SAAL,EAAf;UAEI,IAAA,CAAKb,KAAL,CAAWe,wBAAf,EAAyC;YACjCC,OAAAA,GAAUJ,MAAAA,CAAOK,UAAPL,CAAkB,IAAlBA,CAAhB;gBACQG,wBAAR,GAAmC,IAAA,CAAKf,KAAL,CAAWe,wBAA9C;;2BAGwB,IAAA,CAAKG,aAAL,CAAmBN,MAAnB,CARf;QAQHR,KARG,GAAA,cAAA,CAQHA,KARG;QAQIC,MARJ,GAAA,cAAA,CAQIA,MARJ;WASNc,4BAAL,CAAkCP,MAAlC,CAAA;WACKZ,KAAL,CAAWoB,cAAX,CAA0BR,MAA1B,EAAkCR,KAAlC,EAAyCC,MAAzC,CAAA;;;;gCAGS;UACHO,MAAAA,GAAS,IAAA,CAAKN,SAAL,CAAee,OAA9B;aACOT,MAAP;;;;iDAG2BA,MAAAA,EAAQ;;WAC9BX,IAAL,GAAY,WAAA,CAAY,YAAM;YACzB,MAAA,CAAKK,SAAL,CAAee,OAAlB,EAA0B;cAClBC,SAAAA,GAAY,MAAA,CAAKhB,SAAL,CAAee,OAAf,CAAuBE,YAAzC;cACID,SAAAA,KAAc,MAAA,CAAKnB,IAAL,CAAUE,MAA5B,EAAoC;kCACR,MAAA,CAAKa,aAAL,CAAmBN,MAAnB,CADQ;cAC1BR,KAD0B,GAAA,eAAA,CAC1BA,KAD0B;cACnBC,MADmB,GAAA,eAAA,CACnBA,MADmB;mBAE7BL,KAAL,CAAWwB,QAAX,IAAuB,MAAA,CAAKxB,KAAL,CAAWwB,QAAX,CAAoBpB,KAApB,EAA2BC,MAA3B,CAAvB;;;OALM,EAQT,IAAA,GAAO,EARE,CAAZ;;;;2CAWqB;UAClB;eACMoB,mBAAP,CAA2B,QAA3B,EAAqC,IAAA,CAAKhB,MAA1C,CAAA;sBACc,IAAA,CAAKR,IAAnB,CAAA;qBACa,IAAA,CAAKC,IAAlB,CAAA;OAHF,CAIC,OAAMwB,CAAN,EAAQ,CAAA;;;;6BAIF;UACDd,MAAAA,GAAS,IAAA,CAAKC,SAAL,EAAf;4BAC0B,IAAA,CAAKK,aAAL,CAAmBN,MAAnB,CAFnB;QAECR,KAFD,GAAA,eAAA,CAECA,KAFD;QAEQC,MAFR,GAAA,eAAA,CAEQA,MAFR;WAGFL,KAAL,CAAWwB,QAAX,IAAuB,IAAA,CAAKxB,KAAL,CAAWwB,QAAX,CAAoBpB,KAApB,EAA2BC,MAA3B,CAAvB;;;;kCAGYO,MAAAA,EAAQ;UACdR,KAAAA,GAAQ,IAAA,CAAKE,SAAL,CAAee,OAAf,CAAuBM,WAArC;UACMtB,MAAAA,GAAS,IAAA,CAAKC,SAAL,CAAee,OAAf,CAAuBE,YAAtC;WAEKpB,IAAL,CAAUC,KAAV,GAAkBA,KAAlB;WACKD,IAAL,CAAUE,MAAV,GAAmBA,MAAnB;aACOD,KAAP,GAAeA,KAAf;aACOC,MAAP,GAAgBA,MAAhB;aACO;QAAED,KAAAA,EAAAA,KAAF;QAASC,MAAAA,EAAT;MAAA,CAAP;;;;0CAGoB;iBACTuB,KAAX,EAAA;;;;0CAGoB;iBACTC,IAAX,EAAA;;;;+BAGS;UACDC,EADC,GACM,IAAA,CAAK9B,KADX,CACD8B,EADC;UAELC,KAAAA,GAAQ;QAAE3B,KAAAA,EAAO,MAAT;QAAiBC,MAAAA,EAAjB;MAAA,CAAZ;UAEIyB,EAAAA,KAAO,IAAX,EAAiB;gBACP,MAAA,CAAOE,MAAP,CAAcD,KAAd,EAAqB;oBACjB,UADiB;kBAEnB,CAAC,CAFkB;eAGtB,CAHsB;gBAIrB;SAJA,CAAR;OADF,MAOO,IAAGD,EAAAA,IAAM,CAAA,OAAOA,EAAP,KAAA,WAAA,GAAA,WAAA,GAAA,OAAA,CAAOA,EAAP,CAAA,MAAc,QAAvB,EAAiC;gBAC9BG,MAAAA,CAAOD,MAAPC,CAAcF,KAAdE,EAAqBH,EAArBG,CAAR;;aAGKF,KAAP;;;;oCAGcL,CAAAA,EAAG;WACZ1B,KAAL,CAAWkC,WAAX,IAA0B,IAAA,CAAKlC,KAAL,CAAWkC,WAAX,CAAuBR,CAAvB,CAA1B;;;;6BAGO;aAEL,KAAA,CAAA,aAAA,CAAA,QAAA,EAAA;QAAQ,SAAA,EAAU,0BAAlB;aACO,IAAA,CAAKpB,SADZ;qBAEe,IAAA,CAAK6B,eAAL,CAAqBzB,IAArB,CAA0B,IAA1B,CAFf;eAGS,IAAA,CAAK0B,QAAL;QAJX;;;;EA5GgCtC,KAAAA,CAAMC,SAAAA,CAAAA;ACD1C,SAASsC,QAAT,CAAkBC,GAAlB,EAAuB;MACfC,MAAAA,GAAS,2CAAA,CAA4CC,IAA5C,CAAiDF,GAAjD,CAAb;SACO,MAAA,GAAS;OACTG,QAAAA,CAASF,MAAAA,CAAO,CAAPA,CAATE,EAAoB,EAApBA,CADS;OAETA,QAAAA,CAASF,MAAAA,CAAO,CAAPA,CAATE,EAAoB,EAApBA,CAFS;OAGTA,QAAAA,CAASF,MAAAA,CAAO,CAAPA,CAATE,EAAoB,EAApBA;GAHA,GAIH,CAAA,CAJJ;;AAOJ,SAASC,QAAT,CAAkBC,KAAlB,EAAyBlD,CAAzB,EAA4B;MACpBmD,CAAAA,GAAAA,KAAAA,CAAJ;MACID,KAAJ,EAAW;QACHN,QAAAA,CAASM,KAATN,CAAJ;qBACeO,CAAAA,CAAEC,CAAjB,GAAA,GAAA,GAAsBD,CAAAA,CAAEE,CAAxB,GAAA,GAAA,GAA6BF,CAAAA,CAAElD,CAA/B,GAAA,IAAA,GAAqCD,CAArC,GAAA,GAAA;GAFJ,MAGO;WACI,IAAP;;;ICVasD,IAAAA,GAAAA,UAAAA,gBAAAA,EAAAA;;gBACP/C,KAAZ,EAAmB;;2GACXA,KADW,CAAA,CAAA;UAEZgD,YAAL,GAAoB,KAAA,CAAKA,YAAL,CAAkBtC,IAAlB,CAAA,KAAA,CAApB;;;;;mCAGaE,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC/B4C,YAAL,CAAkBrC,MAAlB,EAA0BR,KAA1B,EAAiCC,MAAjC,CAAA;WACK6C,iBAAL,CAAuBtC,MAAvB,CAAA;iBACWuC,GAAX,CAAe,IAAA,CAAKH,YAApB,CAAA;;;;2CAGqB;UACjB;mBACSI,MAAX,CAAkB,IAAA,CAAKJ,YAAvB,CAAA;aACKK,MAAL,CAAYC,OAAZ,EAAA;OAFF,CAGE,OAAO5B,CAAP,EAAU,CAAA;;;;+BAGH,CAAA;;;iCAEEd,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;;UAC5BW,OAAAA,GAAUJ,MAAAA,CAAOK,UAAPL,CAAkB,IAAlBA,CAAhB;WACKyC,MAAL,GAAc,IAAIE,MAAJ,EAAd;UAEMC,OAAAA,GAAU,IAAID,MAAAA,CAAOE,OAAX,EAAhB;cACQC,IAAR,GAAe,IAAIH,MAAAA,CAAOI,IAAX,CACb,IAAA,CAAK3D,KAAL,CAAW4D,GAAX,GAAiB,IAAIL,MAAAA,CAAOM,IAAX,CAAgB,IAAA,CAAK7D,KAAL,CAAW4D,GAA3B,CAAjB,GAAmD,IAAIL,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CADtC,EAEb,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,GAAhB,EAAqB,GAArB,CAFa,CAAf;cAKQC,aAAR,CAAsB,IAAIP,MAAAA,CAAOQ,IAAX,CAAgB,CAAhB,CAAtB,CAAA;cACQD,aAAR,CAAsB,IAAIP,MAAAA,CAAOS,MAAX,CAAkB,CAAlB,EAAqB,EAArB,CAAtB,CAAA;cACQF,aAAR,CAAsB,IAAIP,MAAAA,CAAOU,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CAAtB,CAAA;cACQH,aAAR,CACE,IAAIP,MAAAA,CAAOW,QAAX,CACE,IAAIX,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CADF,EAEE,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,EAAhB,EAAoB,EAApB,CAFF,EAGE,OAHF,CADF,CAAA;cAQQM,YAAR,CAAqB,IAAIZ,MAAAA,CAAOa,KAAX,CAAiB,CAAjB,EAAoB,CAApB,CAArB,CAAA;cACQD,YAAR,CACE,IAAIZ,MAAAA,CAAOc,KAAX,CAAiB,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,CAAjB,CADF,CAAA;cAGQF,YAAR,CAAqB,IAAIZ,MAAAA,CAAOe,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAArB,CAAA;cACQH,YAAR,CAAqB,IAAIZ,MAAAA,CAAOgB,OAAX,CAAmB,CAAnB,CAArB,CAAA;cACQJ,YAAR,CAAqB,IAAIZ,MAAAA,CAAOiB,SAAX,CAAqBhB,OAArB,CAArB,CAAA;cACQW,YAAR,CAAqB,IAAA,CAAKM,mBAAL,CAAyB7D,MAAzB,CAArB,CAAA;cACQuD,YAAR,CACE,IAAIZ,MAAAA,CAAOmB,SAAX,CACE,IAAInB,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B/D,MAAAA,CAAOR,KAAjC,EAAwCQ,MAAAA,CAAOP,MAA/C,CADF,EAEE,OAFF,CADF,CAAA;cAOQuE,CAAR,CAAUC,CAAV,GAAclF,IAAAA,CAAKmF,GAALnF,CAAS,GAATA,EAAcA,IAAAA,CAAKoF,GAALpF,CAASiB,MAAAA,CAAOR,KAAPQ,GAAe,CAAfA,GAAmB,GAA5BjB,EAAiC,EAAjCA,CAAdA,CAAd;cACQiF,CAAR,CAAUI,CAAV,GAAcpE,MAAAA,CAAOP,MAAPO,GAAgB,CAAhBA,GAAoB,EAAlC;cACQqE,IAAR,EAAA;WACK5B,MAAL,CAAY6B,UAAZ,CAAuB1B,OAAvB,CAAA;UAEM2B,QAAAA,GAAW,IAAI5B,MAAAA,CAAO6B,cAAX,CAA0BxE,MAA1B,CAAjB;eACSyE,cAAT,GAA2B,YAAK;gBACtBC,SAAR,GAAoB5C,QAAAA,CAAS,MAAA,CAAK1C,KAAL,CAAW2C,KAApBD,EAA2B,GAA3BA,CAAAA,IAAmC,0BAAvD;gBACQ6C,QAAR,CAAiB,CAAjB,EAAoB,CAApB,EAAuB3E,MAAAA,CAAOR,KAA9B,EAAqCQ,MAAAA,CAAOP,MAA5C,CAAA;OAFF;WAIKgD,MAAL,CAAYmC,WAAZ,CAAwBL,QAAxB,CAAA;;;;wCAGkBvE,MAAAA,EAAQ;;aACnB;oBACO,SAAA,UAAA,CAAU6E,QAAV,EAAoB,CAAA,CAD3B;wBAEW,SAAA,cAAA,CAAA,QAAA,EAAY;cACtBA,QAAAA,CAASb,CAATa,CAAWT,CAAXS,GAAeA,QAAAA,CAASC,MAAxBD,IAAkC7E,MAAAA,CAAOP,MAA7C,EAAqD;gBAC/CoF,QAAAA,CAASC,MAATD,GAAkB,CAAtB,EAAyB;qBAClBE,aAAL,CAAmBF,QAAnB,CAAA;uBACSG,IAAT,GAAgB,IAAhB;;;;OANR;;;;sCAagBhF,MAAAA,EAAQ;UAClBiF,WAAAA,GAAc,IAAItC,MAAAA,CAAOE,OAAX,EAApB;kBACYC,IAAZ,GAAmB,IAAIH,MAAAA,CAAOI,IAAX,CACjB,IAAIJ,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CADiB,EAEjB,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CAFiB,CAAnB;kBAKYC,aAAZ,CAA0B,IAAIP,MAAAA,CAAOQ,IAAX,CAAgB,CAAhB,CAA1B,CAAA;kBACY+B,gBAAZ,GAA+B,IAAIvC,MAAAA,CAAOS,MAAX,EAA/B;kBACYF,aAAZ,CAA0B+B,WAAAA,CAAYC,gBAAtC,CAAA;kBACYhC,aAAZ,CAA0B,IAAIP,MAAAA,CAAOU,IAAX,CAAgB,GAAhB,EAAqB,CAArB,CAA1B,CAAA;kBACYH,aAAZ,CACE,IAAIP,MAAAA,CAAOwC,CAAX,CACE,IAAIxC,MAAAA,CAAOM,IAAX,CAAgB,GAAhB,EAAqB,CAArB,CADF,EAEE,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,EAAnB,EAAuB,IAAvB,CAFF,EAGE,OAHF,CADF,CAAA;kBAQYmC,cAAZ,GAA6B,IAAIzC,MAAAA,CAAOc,KAAX,CAAiB,SAAjB,CAA7B;kBACYF,YAAZ,CAAyB,IAAIZ,MAAAA,CAAOa,KAAX,CAAiB,CAAjB,EAAoB,CAApB,CAAzB,CAAA;kBACYD,YAAZ,CAAyB0B,WAAAA,CAAYG,cAArC,CAAA;kBACY7B,YAAZ,CAAyB,IAAIZ,MAAAA,CAAOgB,OAAX,CAAmB,CAAnB,CAAzB,CAAA;kBACYJ,YAAZ,CAAyB,IAAIZ,MAAAA,CAAOiB,SAAX,CAAqBqB,WAArB,CAAzB,CAAA;kBACY1B,YAAZ,CACE,IAAIZ,MAAAA,CAAOmB,SAAX,CACE,IAAInB,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B/D,MAAAA,CAAOR,KAAjC,EAAwCQ,MAAAA,CAAOP,MAA/C,CADF,EAEE,OAFF,CADF,CAAA;WAMKgD,MAAL,CAAY6B,UAAZ,CAAuBW,WAAvB,CAAA;WAEKA,WAAL,GAAmBA,WAAnB;;;;kCAGYJ,QAAAA,EAAU;UAChBI,WAAAA,GAAc,IAAA,CAAKA,WAAzB;kBACYC,gBAAZ,CAA6BG,KAA7B,CACER,QAAAA,CAASC,MAATD,GAAkB,IADpB,EAEEA,QAAAA,CAASC,MAATD,GAAkB,GAFpB,CAAA;kBAIYO,cAAZ,CAA2BC,KAA3B,CAAiCR,QAAAA,CAAS9C,KAA1C,CAAA;kBACYiC,CAAZ,CAAcC,CAAd,GAAkBY,QAAAA,CAASb,CAATa,CAAWZ,CAA7B;kBACYD,CAAZ,CAAcI,CAAd,GAAkBS,QAAAA,CAASb,CAATa,CAAWT,CAA7B;kBACYC,IAAZ,CAAiB,MAAjB,CAAA;;;;mCAGa;WACR5B,MAAL,IAAe,IAAA,CAAKA,MAAL,CAAY6C,MAAZ,EAAf;;;;6BAGO;aAEL,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;QAAQ,EAAA,EAAI,IAAA,CAAKlG,KAAL,CAAW8B,EAAvB;kCAC2B,QAD3B;wBAEkB,IAAA,CAAKV,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAFlB;kBAGY,IAAA,CAAKc,QAAL,CAAcd,IAAd,CAAmB,IAAnB;QAJd;;;;EAxI8BZ,KAAAA,CAAMC,SAAAA,CAAAA;ICDnBsE,KAAAA,GAAAA,UAAAA,gBAAAA,EAAAA;;iBACPrE,KAAZ,EAAmB;;6GACXA,KADW,CAAA,CAAA;UAGZmG,MAAL,GAAc,CACZ,SADY,EAEZ,SAFY,EAGZ,SAHY,EAIZ,SAJY,EAKZ,SALY,EAMZ,SANY,EAOZ,SAPY,CAAd;UASKnD,YAAL,GAAoB,KAAA,CAAKA,YAAL,CAAkBtC,IAAlB,CAAA,KAAA,CAApB;;;;;2CAGqB;UACjB;mBACS0C,MAAX,CAAkB,IAAA,CAAKJ,YAAvB,CAAA;aACKK,MAAL,CAAYC,OAAZ,EAAA;OAFF,CAGE,OAAO5B,CAAP,EAAU,CAAA;;;;mCAGCd,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC/B4C,YAAL,CAAkBrC,MAAlB,EAA0BR,KAA1B,EAAiCC,MAAjC,CAAA;iBACW8C,GAAX,CAAe,IAAA,CAAKH,YAApB,CAAA;;;;+BAGS,CAAA;;;iCAEEpC,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC7BgD,MAAL,GAAc,IAAIE,MAAJ,EAAd;UACMC,OAAAA,GAAU,IAAID,MAAAA,CAAOE,OAAX,EAAhB;cACQC,IAAR,GAAe,IAAIH,MAAAA,CAAOI,IAAX,CACb,IAAA,CAAK3D,KAAL,CAAW4D,GAAX,GAAiB,IAAIL,MAAAA,CAAOM,IAAX,CAAgB,IAAA,CAAK7D,KAAL,CAAW4D,GAA3B,CAAjB,GAAmD,IAAIL,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CADtC,EAEb,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,GAAhB,EAAqB,IAArB,CAFa,CAAf;cAKQC,aAAR,CAAsB,IAAIP,MAAAA,CAAOQ,IAAX,CAAgB,CAAhB,CAAtB,CAAA;cACQD,aAAR,CAAsB,IAAIP,MAAAA,CAAOS,MAAX,CAAkB,EAAlB,EAAsB,GAAtB,CAAtB,CAAA;cACQF,aAAR,CAAsB,IAAIP,MAAAA,CAAOU,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CAAtB,CAAA;cACQH,aAAR,CACE,IAAIP,MAAAA,CAAO6C,QAAX,CAAoB,IAAI7C,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0BvE,KAA1B,EAAiCC,MAAjC,CAApB,CADF,CAAA;cAIQ8D,YAAR,CAAqB,IAAIZ,MAAAA,CAAOa,KAAX,CAAiB,CAAjB,EAAoB,CAApB,EAAuBiC,QAAvB,EAAiC9C,MAAAA,CAAO+C,YAAxC,CAArB,CAAA;cACQnC,YAAR,CAAqB,IAAIZ,MAAAA,CAAOe,KAAX,CAAiB,CAAjB,EAAoB,CAApB,EAAuB+B,QAAvB,EAAiC9C,MAAAA,CAAO+C,YAAxC,CAArB,CAAA;cACQnC,YAAR,CAAqB,IAAIZ,MAAAA,CAAOc,KAAX,CAAiB,IAAA,CAAK8B,MAAtB,EAA8B,QAA9B,CAArB,CAAA;cAEQlB,IAAR,EAAA;WACK5B,MAAL,CAAY6B,UAAZ,CAAuB1B,OAAvB,CAAA;UAEM2B,QAAAA,GAAW,IAAI5B,MAAAA,CAAO6B,cAAX,CAA0BxE,MAA1B,CAAjB;WACKyC,MAAL,CAAYmC,WAAZ,CAAwBL,QAAxB,CAAA;;;;mCAGa;WACR9B,MAAL,IAAe,IAAA,CAAKA,MAAL,CAAY6C,MAAZ,EAAf;;;;6BAGO;aAEL,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;QAAQ,EAAA,EAAI,IAAA,CAAKlG,KAAL,CAAW8B,EAAvB;kCAC2B,QAD3B;wBAEkB,IAAA,CAAKV,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAFlB;kBAGY,IAAA,CAAKc,QAAL,CAAcd,IAAd,CAAmB,IAAnB;QAJd;;;;EA7D+BZ,KAAAA,CAAMC,SAAAA,CAAAA;ICApBsE,OAAAA,GAAAA,UAAAA,gBAAAA,EAAAA;;iBACLrE,KAAZ,EAAmB;;6GACTA,KADS,CAAA,CAAA;UAGVmG,MAAL,GAAc,CACV,SADU,EAEV,SAFU,EAGV,SAHU,EAIV,SAJU,EAKV,SALU,EAMV,SANU,EAOV,SAPU,CAAd;UASKnD,YAAL,GAAoB,KAAA,CAAKA,YAAL,CAAkBtC,IAAlB,CAAA,KAAA,CAApB;;;;;2CAGmB;UACf;mBACW0C,MAAX,CAAkB,IAAA,CAAKJ,YAAvB,CAAA;aACKK,MAAL,CAAYC,OAAZ,EAAA;OAFJ,CAGE,OAAO5B,CAAP,EAAU,CAAA;;;;mCAGDd,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC7B4C,YAAL,CAAkBrC,MAAlB,EAA0BR,KAA1B,EAAiCC,MAAjC,CAAA;iBACW8C,GAAX,CAAe,IAAA,CAAKH,YAApB,CAAA;;;;6BAGK5C,KAAAA,EAAOC,MAAAA,EAAQ;WACfkG,kBAAL,CAAwBC,IAAxB,CAA6BpG,KAA7B,GAAqCA,KAArC;WACKmG,kBAAL,CAAwBC,IAAxB,CAA6BnG,MAA7B,GAAsCA,MAAtC;WACKgD,MAAL,CAAYoD,SAAZ,CAAsB,CAAtB,CAAA,CAAyBhG,MAAzB,CAAgCL,KAAhC,EAAuCC,MAAvC,CAAA;IACH;;;4BAEOqG,GAAAA,EAAKC,UAAAA,EAAY;UACfC,MAAAA,GAAS,IAAA,CAAK5G,KAAL,CAAW4G,MAAX,IAAqB,CAAA,CAApC;UACMpH,GAAAA,GAAMoH,MAAAA,CAAOF,GAAPE,CAAAA,IAAeD,UAA3B;UACIE,KAAAA,CAAMC,OAAND,CAAcrH,GAAdqH,CAAJ,EAAwB;eACb,IAAItD,MAAAA,CAAOM,IAAX,CAAgBrE,GAAAA,CAAI,CAAJA,CAAhB,EAAwBA,GAAAA,CAAI,CAAJA,CAAxB,CAAP;OADJ,MAEO;eACIA,GAAP;;;;;+BAIGkH,GAAAA,EAAKC,UAAAA,EAAY;UAClBC,MAAAA,GAAS,IAAA,CAAK5G,KAAL,CAAW4G,MAAX,IAAqB,CAAA,CAApC;UACMpH,GAAAA,GAAMoH,MAAAA,CAAOF,GAAPE,CAAAA,IAAeD,UAA3B;UACI,CAACnH,GAAL,EAAU,OAAO,IAAP;UAENqH,KAAAA,CAAMC,OAAND,CAAcrH,GAAdqH,CAAJ,EAAwB;eACbrH,GAAP;OADJ,MAEO;eACI,CAACA,GAAD,EAAMA,GAAN,CAAP;;;;;iCAIKoB,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;UAC1BuD,GAAAA,GAAM,IAAA,CAAKmD,OAAL,CAAa,KAAb,EAAoB,CAAC,CAAD,EAAI,CAAJ,CAApB,CAAZ;UACMC,GAAAA,GAAM,IAAA,CAAKD,OAAL,CAAa,KAAb,EAAoB,CAAC,GAAD,EAAM,GAAN,CAApB,CAAZ;UACME,IAAAA,GAAO,IAAA,CAAKF,OAAL,CAAa,MAAb,EAAqB,CAArB,CAAb;UACMrB,MAAAA,GAAS,IAAA,CAAKqB,OAAL,CAAa,QAAb,EAAuB,CAAC,EAAD,EAAK,EAAL,CAAvB,CAAf;UACMG,IAAAA,GAAO,IAAA,CAAKH,OAAL,CAAa,MAAb,EAAqB,CAAC,CAAD,EAAI,CAAJ,CAArB,CAAb;UACMI,IAAAA,GAAO,IAAA,CAAKJ,OAAL,CAAa,MAAb,CAAb;UACMK,QAAAA,GAAW,IAAA,CAAKL,OAAL,CAAa,UAAb,CAAjB;UACMM,CAAAA,GAAI,IAAA,CAAKN,OAAL,CAAa,GAAb,EAAkB,CAAC,CAAD,EAAI,CAAJ,CAAlB,CAAV;UACMO,GAAAA,GAAM,IAAA,CAAKP,OAAL,CAAa,KAAb,EAAoB,CAAC,CAAC,EAAF,EAAM,EAAN,CAApB,CAAZ;UACMQ,KAAAA,GAAQ,IAAA,CAAKC,UAAL,CAAgB,OAAhB,CAAd;UACMC,KAAAA,GAAQ,IAAA,CAAKD,UAAL,CAAgB,OAAhB,CAAd;UACM7E,KAAAA,GAAQ,IAAA,CAAK6E,UAAL,CAAgB,OAAhB,CAAd;UACME,KAAAA,GAAQ,IAAA,CAAKX,OAAL,CAAa,OAAb,EAAsB,MAAtB,CAAd;UACMnH,MAAAA,GAAS,IAAA,CAAKmH,OAAL,CAAa,QAAb,CAAf;UACMY,MAAAA,GAAS,IAAA,CAAKH,UAAL,CAAgB,QAAhB,CAAf;UACM1E,CAAAA,GAAI,IAAA,CAAKiE,OAAL,CAAa,GAAb,CAAV;UACMa,CAAAA,GAAI,IAAA,CAAKJ,UAAL,CAAgB,GAAhB,CAAV;UACMK,QAAAA,GAAW,IAAA,CAAKd,OAAL,CAAa,SAAb,CAAjB;WAEK1D,MAAL,GAAc,IAAIE,MAAJ,EAAd;UACIC,OAAAA,GAAAA,KAAAA,CAAJ;UACIqE,QAAAA,KAAa,QAAjB,EAA2B;kBACb,IAAItE,MAAAA,CAAOuE,aAAX,EAAV;OADJ,MAEO;kBACO,IAAIvE,MAAAA,CAAOE,OAAX,EAAV;;cAEIC,IAAR,GAAe,IAAIH,MAAAA,CAAOI,IAAX,CAAgBC,GAAhB,EAAqBoD,GAArB,CAAf;cAEQlD,aAAR,CAAsB,IAAIP,MAAAA,CAAOQ,IAAX,CAAgBkD,IAAhB,CAAtB,CAAA;cACQnD,aAAR,CAAsB,IAAIP,MAAAA,CAAOS,MAAX,CAAkB0B,MAAlB,CAAtB,CAAA;cACQ5B,aAAR,CAAsB,IAAIP,MAAAA,CAAOU,IAAX,CAAgBiD,IAAhB,CAAtB,CAAA;cACQpD,aAAR,CAAsB,IAAIP,MAAAA,CAAOW,QAAX,CAAoBmD,CAApB,EAAuBC,GAAvB,EAA4B,OAA5B,CAAtB,CAAA;UACIH,IAAJ,EAAU3D,OAAAA,CAAQM,aAARN,CAAsB,IAAID,MAAAA,CAAOwE,IAAX,CAAgBZ,IAAhB,CAAtB3D,CAAAA;UAENwE,GAAAA,GAAAA,KAAAA,CAAJ;UACIZ,QAAAA,KAAa,KAAbA,IAAsBA,QAAAA,KAAa,QAAvC,EAAiD;cACvC,IAAI7D,MAAAA,CAAO6C,QAAX,CAAoB,IAAI7C,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B/D,MAAAA,CAAOR,KAAjC,EAAwCQ,MAAAA,CAAOP,MAA/C,CAApB,CAAN;OADJ,MAEO,IAAI,CAAA,OAAO+G,QAAP,KAAA,WAAA,GAAA,WAAA,GAAA,OAAA,CAAOA,QAAP,CAAA,MAAoB,QAAxB,EAAkC;cAC/B,IAAI7D,MAAAA,CAAO6C,QAAX,CAAoB,IAAI7C,MAAAA,CAAOoB,QAAX,CAAoByC,QAAAA,CAASvC,CAA7B,EAAgCuC,QAAAA,CAASpC,CAAzC,EAA4CoC,QAAAA,CAAShH,KAArD,EAA4DgH,QAAAA,CAAS/G,MAArE,CAApB,CAAN;OADG,MAEA;gBACKuE,CAAR,CAAUC,CAAV,GAAcjE,MAAAA,CAAOR,KAAPQ,GAAe,CAA7B;gBACQgE,CAAR,CAAUI,CAAV,GAAcpE,MAAAA,CAAOP,MAAPO,GAAgB,CAA9B;;cAGIkD,aAAR,CAAsBkE,GAAtB,CAAA;;;UAGMC,MAAAA,GAASV,KAAAA,GAAQ,IAAIhE,MAAAA,CAAOa,KAAX,CAAiBmD,KAAAA,CAAM,CAANA,CAAjB,EAA2BA,KAAAA,CAAM,CAANA,CAA3B,CAARA,GAA+C,IAAIhE,MAAAA,CAAOa,KAAX,CAAiB,CAAjB,EAAoB,CAApB,CAA9D;UACM8D,MAAAA,GAAST,KAAAA,GAAQ,IAAIlE,MAAAA,CAAOe,KAAX,CAAiBmD,KAAAA,CAAM,CAANA,CAAjB,EAA2BA,KAAAA,CAAM,CAANA,CAA3B,CAARA,GAA+C,IAAIlE,MAAAA,CAAOe,KAAX,CAAiB,CAAjB,EAAoB,GAApB,CAA9D;UACM6D,MAAAA,GAASxF,KAAAA,GAAQ,IAAIY,MAAAA,CAAOc,KAAX,CAAiB1B,KAAAA,CAAM,CAANA,CAAjB,EAA2BA,KAAAA,CAAM,CAANA,CAA3B,CAARA,GAA+C,IAAIY,MAAAA,CAAOc,KAAX,CAAiB,IAAA,CAAK8B,MAAtB,CAA9D;cAEQhC,YAAR,CAAqB8D,MAArB,CAAA;cACQ9D,YAAR,CAAqB+D,MAArB,CAAA;UACG,CAACf,IAAJ,EAAU3D,OAAAA,CAAQW,YAARX,CAAqB2E,MAArB3E,CAAAA;UAEPmE,MAAH,EAAU;YACHA,MAAAA,CAAO,CAAPA,CAAAA,KAAY,IAAZA,IAAkBA,MAAAA,CAAO,CAAPA,CAAAA,KAAY,QAAjC,EAA0C;kBAC9BxD,YAAR,CAAqB,IAAIZ,MAAAA,CAAO6E,MAAX,EAArB,CAAA;SADJ,MAEK;kBACOjE,YAAR,CAAqB,IAAIZ,MAAAA,CAAO6E,MAAX,CAAkBT,MAAAA,CAAO,CAAPA,CAAlB,EAA6BA,MAAAA,CAAO,CAAPA,CAA7B,CAArB,CAAA;;;UAIFnB,IAAAA,GAAO,IAAIjD,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B/D,MAAAA,CAAOR,KAAjC,EAAwCQ,MAAAA,CAAOP,MAA/C,CAAb;UACMkG,kBAAAA,GAAqB,IAAIhD,MAAAA,CAAOmB,SAAX,CAAqB8B,IAArB,EAA2BkB,KAA3B,CAA3B;cACQvD,YAAR,CAAqBoC,kBAArB,CAAA;gBAEU/C,OAAAA,CAAQW,YAARX,CAAqB,IAAID,MAAAA,CAAO8E,WAAX,CAAuBzI,MAAvB,EAA+BA,MAA/B,EAAuC,IAAvC,CAArB4D,CAAV;WACKA,OAAAA,CAAQW,YAARX,CAAqB,IAAID,MAAAA,CAAO+E,CAAX,CAAaxF,CAAb,CAArBU,CAAL;WACKA,OAAAA,CAAQW,YAARX,CAAqB,IAAID,MAAAA,CAAOgF,CAAX,CAAaX,CAAAA,CAAE,CAAFA,CAAb,EAAmBA,CAAAA,CAAE,CAAFA,CAAnB,CAArBpE,CAAL;cAEQyB,IAAR,EAAA;WACK5B,MAAL,CAAY6B,UAAZ,CAAuB1B,OAAvB,CAAA;UAEM2B,QAAAA,GAAW,IAAA,CAAKqD,cAAL,CAAoB5H,MAApB,CAAjB;WACKyC,MAAL,CAAYmC,WAAZ,CAAwBL,QAAxB,CAAA;WAEK3B,OAAL,GAAeA,OAAf;WACK+C,kBAAL,GAA0BA,kBAA1B;;;;mCAGW3F,MAAAA,EAAQ;UACbR,KAAAA,GAAQQ,MAAAA,CAAOR,KAArB;UACMC,MAAAA,GAASO,MAAAA,CAAOP,MAAtB;UACMW,OAAAA,GAAUJ,MAAAA,CAAOK,UAAPL,CAAkB,IAAlBA,CAAhB;UACMuE,QAAAA,GAAW,IAAI5B,MAAAA,CAAO6B,cAAX,CAA0BxE,MAA1B,CAAjB;UAEM6H,QAAAA,GAAW,IAAA,CAAK1B,OAAL,CAAa,UAAb,CAAjB;UACI0B,QAAJ,EAAc;iBACDpD,cAAT,GAA0B,YAAM;mBACnBrE,OAAT,EAAkBZ,KAAlB,EAAyBC,MAAzB,CAAA;SADJ;;UAKEqI,iBAAAA,GAAoB,IAAA,CAAK3B,OAAL,CAAa,mBAAb,CAA1B;UACI2B,iBAAJ,EAAuB;iBACVA,iBAAT,GAA6B,UAACjD,QAAD,EAAc;4BACrBzE,OAAlB,EAA2ByE,QAA3B,CAAA;SADJ;;UAKEkD,gBAAAA,GAAmB,IAAA,CAAK5B,OAAL,CAAa,kBAAb,CAAzB;UACI4B,gBAAJ,EAAsB;iBACTA,gBAAT,GAA4B,UAAClD,QAAD,EAAc;2BACrBzE,OAAjB,EAA0ByE,QAA1B,CAAA;SADJ;;aAKGN,QAAP;;;;mCAGW;WACN9B,MAAL,IAAe,IAAA,CAAKA,MAAL,CAAY6C,MAAZ,EAAf;;;;oCAGYxE,CAAAA,EAAG;UACTQ,WAAAA,GAAc,IAAA,CAAK6E,OAAL,CAAa,aAAb,CAApB;UACI7E,WAAJ,EAAiB;oBACDR,CAAZ,CAAA;;;;;6BAIC;UACCX,wBAAAA,GAA2B,IAAA,CAAKf,KAAL,CAAWe,wBAAX,IAAuC,IAAA,CAAKf,KAAL,CAAW4I,SAAlD,IAA+D,aAAhG;aAGI,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;YACQ,IAAA,CAAK5I,KAAL,CAAW8B,EADnB;qBAEiB,IAAA,CAAKK,eAAL,CAAqBzB,IAArB,CAA0B,IAA1B,CAFjB;kCAG8BK,wBAH9B;wBAIoB,IAAA,CAAKK,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAJpB;kBAKc,IAAA,CAAKc,QAAL,CAAcd,IAAd,CAAmB,IAAnB;QANlB;;;;EAtL2BZ,KAAAA,CAAMC,SAAAA,CAAAA;ICCpB8I,KAAAA,GAAAA,UAAAA,gBAAAA,EAAAA;;iBACP7I,KAAZ,EAAmB;;6GACXA,KADW,CAAA,CAAA;UAEZgD,YAAL,GAAoB,KAAA,CAAKA,YAAL,CAAkBtC,IAAlB,CAAA,KAAA,CAApB;;;;;qCAGeE,MAAAA,EAAO;UACnB,IAAA,CAAKZ,KAAL,CAAW2C,KAAd,EAAoB;eACXZ,KAAP,CAAa+G,eAAb,GAA+B,IAAA,CAAK9I,KAAL,CAAW2C,KAA1C;;;;;2CAImB;UACjB;mBACSS,MAAX,CAAkB,IAAA,CAAKJ,YAAvB,CAAA;aACKK,MAAL,CAAYC,OAAZ,EAAA;OAFF,CAGE,OAAO5B,CAAP,EAAU,CAAA;;;;mCAGCd,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC/B4C,YAAL,CAAkBrC,MAAlB,EAA0BR,KAA1B,EAAiCC,MAAjC,CAAA;iBACW8C,GAAX,CAAe,IAAA,CAAKH,YAApB,CAAA;;;;6BAGO5C,KAAAA,EAAOC,MAAAA,EAAQ;WACjBkG,kBAAL,CAAwBC,IAAxB,CAA6BpG,KAA7B,GAAqCA,KAArC;WACKmG,kBAAL,CAAwBC,IAAxB,CAA6BnG,MAA7B,GAAsCA,MAAtC;WACKgD,MAAL,CAAYoD,SAAZ,CAAsB,CAAtB,CAAA,CAAyBhG,MAAzB,CAAgCL,KAAhC,EAAuCC,MAAvC,CAAA;;;;iCAGWO,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC7BgD,MAAL,GAAc,IAAIE,MAAJ,EAAd;UAEMC,OAAAA,GAAU,IAAID,MAAAA,CAAOE,OAAX,EAAhB;cACQsF,OAAR,GAAkB,KAAlB;cACQrF,IAAR,GAAe,IAAIH,MAAAA,CAAOI,IAAX,CAAgB,IAAA,CAAK3D,KAAL,CAAW4D,GAAX,GAAiB,IAAA,CAAK5D,KAAL,CAAW4D,GAA5B,GAAkC,GAAlD,CAAf;cACQE,aAAR,CAAsB,IAAIP,MAAAA,CAAOQ,IAAX,CAAgB,CAAhB,CAAtB,CAAA;cACQD,aAAR,CAAsB,IAAIP,MAAAA,CAAOS,MAAX,CAAkB,CAAlB,CAAtB,CAAA;cACQF,aAAR,CACE,IAAIP,MAAAA,CAAOW,QAAX,CACE,IAAIX,MAAAA,CAAOM,IAAX,CAAgB,GAAhB,CADF,EAEE,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,GAAnB,CAFF,EAGE,OAHF,CADF,CAAA;UAOMmF,QAAAA,GAAW;WACZ5I,KAAAA,GAAQ,CADI;WAEZC,MAAAA,GAAS;OAFd;UAKM4I,mBAAAA,GAAsB,IAAI1F,MAAAA,CAAO2F,UAAX,CAAsBF,QAAtB,EAAgC,CAAhC,EAAmC,CAAnC,CAA5B;UACMzC,kBAAAA,GAAqB,IAAIhD,MAAAA,CAAOmB,SAAX,CACzB,IAAInB,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B/D,MAAAA,CAAOR,KAAjC,EAAwCQ,MAAAA,CAAOP,MAA/C,CADyB,EAEzB,OAFyB,CAA3B;cAIQ8D,YAAR,CAAqB,IAAIZ,MAAAA,CAAOc,KAAX,CAAiB,QAAjB,CAArB,CAAA;cACQF,YAAR,CAAqB8E,mBAArB,EAA0C1C,kBAA1C,CAAA;cACQpC,YAAR,CAAqB,IAAIZ,MAAAA,CAAO8E,WAAX,CAAuB,EAAvB,EAA2B,EAA3B,EAA+B,IAA/B,CAArB,CAAA;cACQzD,CAAR,CAAUC,CAAV,GAAcjE,MAAAA,CAAOR,KAAPQ,GAAe,CAA7B;cACQgE,CAAR,CAAUI,CAAV,GAAcpE,MAAAA,CAAOP,MAAPO,GAAgB,CAA9B;cACQqE,IAAR,CAAa,MAAb,CAAA;WAEK5B,MAAL,CAAY6B,UAAZ,CAAuB1B,OAAvB,CAAA;WACKH,MAAL,CAAYmC,WAAZ,CAAwB,IAAA,CAAKgD,cAAL,CAAoB5H,MAApB,CAAxB,CAAA;WACK2F,kBAAL,GAA0BA,kBAA1B;;;;mCAGa3F,MAAAA,EAAQ;;UACfI,OAAAA,GAAUJ,MAAAA,CAAOK,UAAPL,CAAkB,IAAlBA,CAAhB;UACMuE,QAAAA,GAAW,IAAI5B,MAAAA,CAAO6B,cAAX,CAA0BxE,MAA1B,CAAjB;eACSyE,cAAT,GAA0B,YAAM;gBACtBC,SAAR,GAAoB5C,QAAAA,CAAS,MAAA,CAAK1C,KAAL,CAAW2C,KAApBD,EAA2B,IAA3BA,CAAAA,IAAoC,qBAAxD;gBACQ6C,QAAR,CAAiB,CAAjB,EAAoB,CAApB,EAAuB3E,MAAAA,CAAOR,KAA9B,EAAqCQ,MAAAA,CAAOP,MAA5C,CAAA;OAFF;eAKSsI,gBAAT,GAA4B,UAAUlD,QAAV,EAAoB;gBACtC0D,SAAR,EAAA;gBACQC,WAAR,GAAsB3D,QAAAA,CAAS9C,KAA/B;gBACQ0G,SAAR,GAAoB,CAApB;gBACQC,MAAR,CAAe7D,QAAAA,CAAS8D,GAAT9D,CAAab,CAAba,CAAeZ,CAA9B,EAAiCY,QAAAA,CAAS8D,GAAT9D,CAAab,CAAba,CAAeT,CAAhD,CAAA;gBACQwE,MAAR,CAAe/D,QAAAA,CAASb,CAATa,CAAWZ,CAA1B,EAA6BY,QAAAA,CAASb,CAATa,CAAWT,CAAxC,CAAA;gBACQyE,SAAR,EAAA;gBACQC,MAAR,EAAA;OAPF;aAUOvE,QAAP;;;;mCAGa;WACR9B,MAAL,IAAe,IAAA,CAAKA,MAAL,CAAY6C,MAAZ,EAAf;;;;6BAGO;aAEL,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;QAAQ,EAAA,EAAI,IAAA,CAAKlG,KAAL,CAAW8B,EAAvB;kCAC2B,QAD3B;0BAEoB,IAAA,CAAKhB,gBAAL,CAAsBJ,IAAtB,CAA2B,IAA3B,CAFpB;wBAGkB,IAAA,CAAKU,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAHlB;kBAIY,IAAA,CAAKc,QAAL,CAAcd,IAAd,CAAmB,IAAnB;QALd;;;;EA7F+BZ,KAAAA,CAAMC,SAAAA,CAAAA;ICApB4J,KAAAA,GAAAA,UAAAA,gBAAAA,EAAAA;;iBACP3J,KAAZ,EAAmB;;6GACXA,KADW,CAAA,CAAA;UAEZ4J,GAAL,GAAW,CAAX;UACKC,KAAL,GAAa,CAAb;UACKC,aAAL,GAAA,yBAAA;UACK9G,YAAL,GAAoB,KAAA,CAAKA,YAAL,CAAkBtC,IAAlB,CAAA,KAAA,CAApB;;;;;qCAGeE,MAAAA,EAAO;UACnB,IAAA,CAAKZ,KAAL,CAAW2C,KAAd,EAAoB;eACXZ,KAAP,CAAa+G,eAAb,GAA+B,IAAA,CAAK9I,KAAL,CAAW2C,KAA1C;;;;;mCAIW/B,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC/BO,MAAL,GAAcA,MAAd;WACKqC,YAAL,CAAkBrC,MAAlB,EAA0BR,KAA1B,EAAiCC,MAAjC,CAAA;iBACW8C,GAAX,CAAe,IAAA,CAAKH,YAApB,CAAA;;;;6BAGO5C,KAAAA,EAAOC,MAAAA,EAAQ;WACjBkG,kBAAL,CAAwBC,IAAxB,CAA6BpG,KAA7B,GAAqCA,KAArC;WACKmG,kBAAL,CAAwBC,IAAxB,CAA6BnG,MAA7B,GAAsCA,MAAtC;WACKgD,MAAL,CAAYoD,SAAZ,CAAsB,CAAtB,CAAA,CAAyBhG,MAAzB,CAAgCL,KAAhC,EAAuCC,MAAvC,CAAA;;;;iCAGWO,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC7BgD,MAAL,GAAc,IAAIE,MAAJ,EAAd;UAEMC,OAAAA,GAAU,IAAID,MAAAA,CAAOE,OAAX,EAAhB;cACQsF,OAAR,GAAkB,KAAlB;cACQrF,IAAR,GAAe,IAAIH,MAAAA,CAAOI,IAAX,CAAgB,IAAA,CAAK3D,KAAL,CAAW4D,GAAX,GAAiB,IAAA,CAAK5D,KAAL,CAAW4D,GAA5B,GAAkC,GAAlD,CAAf;;;cAGQE,aAAR,CAAsB,IAAIP,MAAAA,CAAOQ,IAAX,CAAgB,CAAhB,CAAtB,CAAA;cACQD,aAAR,CAAsB,IAAIP,MAAAA,CAAOS,MAAX,CAAkB,CAAlB,CAAtB,CAAA;cACQF,aAAR,CACE,IAAIP,MAAAA,CAAOwC,CAAX,CAAa,IAAIxC,MAAAA,CAAOM,IAAX,CAAgB,GAAhB,EAAqB,GAArB,CAAb,EAAwC,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,GAAnB,CAAxC,EAAiE,OAAjE,CADF,CAAA;cAGQC,aAAR,CACE,IAAIP,MAAAA,CAAO6C,QAAX,CACE,IAAI7C,MAAAA,CAAOwG,UAAX,CAAsBnJ,MAAAA,CAAOR,KAAPQ,GAAe,CAArC,EAAwCA,MAAAA,CAAOP,MAAPO,GAAgB,CAAxD,EAA2D,GAA3D,CADF,CADF,CAAA;;;UAOM2F,kBAAAA,GAAqB,IAAIhD,MAAAA,CAAOmB,SAAX,CACzB,IAAInB,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B/D,MAAAA,CAAOR,KAAjC,EAAwCQ,MAAAA,CAAOP,MAA/C,CADyB,EAEzB,OAFyB,CAA3B;cAIQ8D,YAAR,CAAqBoC,kBAArB,CAAA;WACKyD,SAAL,GAAiB,IAAIzG,MAAAA,CAAO0G,SAAX,CACf;WACKrJ,MAAAA,CAAOR,KAAPQ,GAAe,CADpB;WAEKA,MAAAA,CAAOP,MAAPO,GAAgB,CAAhBA,GAAoB;OAHV,EAKf,CALe,EAMf,GANe,CAAjB;WASKsJ,UAAL,GAAkB,IAAI3G,MAAAA,CAAO2F,UAAX,CAChB;WACKtI,MAAAA,CAAOR,KAAPQ,GAAe,CADpB;WAEKA,MAAAA,CAAOP,MAAPO,GAAgB;OAHL,EAKhB,CALgB,EAMhB,GANgB,CAAlB;cAQQuD,YAAR,CAAqB,IAAA,CAAK+F,UAA1B,EAAsC,IAAA,CAAKF,SAA3C,CAAA;cACQ7F,YAAR,CAAqB,IAAIZ,MAAAA,CAAOc,KAAX,CAAiB,QAAjB,CAArB,CAAA;cACQF,YAAR,CAAqB,IAAIZ,MAAAA,CAAO8E,WAAX,CAAuB,EAAvB,EAA2B,EAA3B,EAA+B,IAA/B,CAArB,CAAA;cAEQpD,IAAR,CAAa,MAAb,CAAA;WACK5B,MAAL,CAAY6B,UAAZ,CAAuB1B,OAAvB,CAAA;WACKH,MAAL,CAAYmC,WAAZ,CAAwB,IAAA,CAAKgD,cAAL,CAAoB5H,MAApB,CAAxB,CAAA;WACK2F,kBAAL,GAA0BA,kBAA1B;;;;mCAGa3F,MAAAA,EAAQ;;UACfI,OAAAA,GAAUJ,MAAAA,CAAOK,UAAPL,CAAkB,IAAlBA,CAAhB;UACMuE,QAAAA,GAAW,IAAI5B,MAAAA,CAAO6B,cAAX,CAA0BxE,MAA1B,CAAjB;eAESyE,cAAT,GAA0B,YAAM;eACzBuE,GAAL,IAAY,CAAZ;gBACQtE,SAAR,GAAoB5C,QAAAA,CAAS,MAAA,CAAK1C,KAAL,CAAW2C,KAApBD,EAA2B,IAA3BA,CAAAA,IAAoC,qBAAxD;gBACQ6C,QAAR,CAAiB,CAAjB,EAAoB,CAApB,EAAuB3E,MAAAA,CAAOR,KAA9B,EAAqCQ,MAAAA,CAAOP,MAA5C,CAAA;OAHF;eAMSqI,iBAAT,GAA6B,UAAA,QAAA,EAAY;iBAC9ByB,IAAT,CAAcC,KAAd,GAAsB7G,MAAAA,CAAO8G,QAAP9G,CAAgB+G,UAAhB/G,CAA2B,CAA3BA,EAA8B,GAA9BA,CAAtB;iBACS4G,IAAT,CAAc7C,GAAd,GAAoB/D,MAAAA,CAAO8G,QAAP9G,CAAgB+G,UAAhB/G,CAA2B,CAA3BA,EAA8B5D,IAAAA,CAAK4K,EAAL5K,GAAU,CAAxC4D,CAApB;OAFF;eAKSoF,gBAAT,GAA4B,UAAA,QAAA,EAAY;YAChCiB,GAAAA,GAAMnE,QAAAA,CAAS0E,IAAT1E,CAAc2E,KAAd3E,GAAsB,MAAA,CAAKmE,GAAvC;iBACSjH,KAAT,GAAiB,MAAA,CAAKmH,aAAL,CAAmBU,OAAnB,CAA2B,KAA3B,EAAkCZ,GAAAA,GAAM,GAAxC,CAAjB;YAEMa,KAAAA,GAAQ,CAAA,GAAI,CAAlB;YACM/E,MAAAA,GACJD,QAAAA,CAASC,MAATD,IAAmB,CAAA,GAAIgF,KAAvBhF,CAAAA,GAAgC9F,IAAAA,CAAK+K,GAAL/K,CAAU8F,QAAAA,CAAS0E,IAAT1E,CAAc6B,GAAd7B,IAAqB,IAA/B9F,CAAhC8F,GACAA,QAAAA,CAASC,MAATD,GAAkBgF,KAFpB;gBAIQtB,SAAR,EAAA;gBACQ7D,SAAR,GAAoBG,QAAAA,CAAS9C,KAA7B;gBACQgI,GAAR,CAAYlF,QAAAA,CAASb,CAATa,CAAWZ,CAAvB,EAA0BY,QAAAA,CAASb,CAATa,CAAWT,CAArC,EAAwCU,MAAxC,EAAgD,CAAhD,EAAmD/F,IAAAA,CAAK4K,EAAL5K,GAAU,CAA7D,EAAgE,IAAhE,CAAA;gBACQ8J,SAAR,EAAA;gBACQmB,IAAR,EAAA;OAbF;aAgBOzF,QAAP;;;;2CAGqB;UACjB;mBACS/B,MAAX,CAAkB,IAAA,CAAKJ,YAAvB,CAAA;aACKK,MAAL,CAAYC,OAAZ,EAAA;OAFF,CAGE,OAAO5B,CAAP,EAAU,CAAA;;;;mCAGC;UACPd,MAAAA,GAAS,IAAA,CAAKA,MAApB;WACKyC,MAAL,CAAY6C,MAAZ,EAAA;UACI,IAAA,CAAK2D,KAAL,GAAa,GAAb,KAAqB,CAAzB,EAA4B;aACrBK,UAAL,CAAgBW,cAAhB,CAA+BhG,CAA/B,GAAmClF,IAAAA,CAAKC,MAALD,EAAAA,GAAgBiB,MAAAA,CAAOR,KAA1D;aACK8J,UAAL,CAAgBW,cAAhB,CAA+B7F,CAA/B,GAAmCrF,IAAAA,CAAKC,MAALD,EAAAA,GAAgBiB,MAAAA,CAAOP,MAA1D;aAEK2J,SAAL,CAAea,cAAf,CAA8BhG,CAA9B,GAAkClF,IAAAA,CAAKC,MAALD,EAAAA,GAAgBiB,MAAAA,CAAOR,KAAzD;aACK4J,SAAL,CAAea,cAAf,CAA8B7F,CAA9B,GAAkCrF,IAAAA,CAAKC,MAALD,EAAAA,GAAgBiB,MAAAA,CAAOP,MAAzD;;WAGGwJ,KAAL,EAAA;;;;6BAGO;aAEL,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;QAAQ,EAAA,EAAI,IAAA,CAAK7J,KAAL,CAAW8B,EAAvB;0BACoB,IAAA,CAAKhB,gBAAL,CAAsBJ,IAAtB,CAA2B,IAA3B,CADpB;wBAEkB,IAAA,CAAKU,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAFlB;kBAGY,IAAA,CAAKc,QAAL,CAAcd,IAAd,CAAmB,IAAnB;QAJd;;;;EAvI+BZ,KAAAA,CAAMC,SAAAA,CAAAA;ICDpB+K,MAAAA,GAAAA,UAAAA,gBAAAA,EAAAA;;kBACP9K,KAAZ,EAAmB;;+GACXA,KADW,CAAA,CAAA;UAGZmG,MAAL,GAAc,CACZ,SADY,EAEZ,SAFY,EAGZ,SAHY,EAIZ,SAJY,EAKZ,SALY,EAMZ,SANY,CAAd;UAQKnD,YAAL,GAAoB,KAAA,CAAKA,YAAL,CAAkBtC,IAAlB,CAAA,KAAA,CAApB;;;;;2CAGqB;UACjB;mBACS0C,MAAX,CAAkB,IAAA,CAAKJ,YAAvB,CAAA;aACKK,MAAL,CAAYC,OAAZ,EAAA;OAFF,CAGE,OAAO5B,CAAP,EAAU,CAAA;;;;qCAGGd,MAAAA,EAAQ,CAAA;;;mCAIVA,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC/B4C,YAAL,CAAkBrC,MAAlB,EAA0BR,KAA1B,EAAiCC,MAAjC,CAAA;iBACW8C,GAAX,CAAe,IAAA,CAAKH,YAApB,CAAA;;;;6BAGO5C,KAAAA,EAAOC,MAAAA,EAAQ;UAChB0K,GAAAA,GAAM,GAAZ;WACKxE,kBAAL,CAAwBC,IAAxB,CAA6BpG,KAA7B,GAAqCA,KAAAA,GAAQ,CAAA,GAAI2K,GAAjD;WACKxE,kBAAL,CAAwBC,IAAxB,CAA6BnG,MAA7B,GAAsCA,MAAAA,GAAS,CAAA,GAAI0K,GAAnD;WACK1H,MAAL,CAAYoD,SAAZ,CAAsB,CAAtB,CAAA,CAAyBhG,MAAzB,CAAgCL,KAAhC,EAAuCC,MAAvC,CAAA;;;;iCAGWO,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC7BgD,MAAL,GAAc,IAAIE,MAAJ,EAAd;UACMC,OAAAA,GAAU,IAAID,MAAAA,CAAOE,OAAX,EAAhB;cACQC,IAAR,GAAe,IAAIH,MAAAA,CAAOI,IAAX,CAAgB,IAAA,CAAK3D,KAAL,CAAW4D,GAAX,GAAiB,IAAA,CAAK5D,KAAL,CAAW4D,GAA5B,GAAkC,EAAlD,CAAf;cACQmF,OAAR,GAAkB,CAAlB;cAEQjF,aAAR,CAAsB,IAAIP,MAAAA,CAAOQ,IAAX,CAAgB,CAAhB,CAAtB,CAAA;cACQD,aAAR,CAAsB,IAAIP,MAAAA,CAAOS,MAAX,CAAkB,CAAlB,EAAqB,EAArB,CAAtB,CAAA;cACQF,aAAR,CACE,IAAIP,MAAAA,CAAOW,QAAX,CAAoB,IAAIX,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,EAAnB,CAApB,EAA4C,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,CAA5C,EAAgE,OAAhE,CADF,CAAA;cAGQC,aAAR,CACE,IAAIP,MAAAA,CAAO6C,QAAX,CACE,IAAI7C,MAAAA,CAAOyH,QAAX,CAAoB,CAApB,EAAuBpK,MAAAA,CAAOP,MAA9B,EAAsCO,MAAAA,CAAOR,KAA7C,EAAoDQ,MAAAA,CAAOP,MAA3D,CADF,CADF,CAAA;UAMM0K,GAAAA,GAAM,GAAZ;UACMxE,kBAAAA,GAAqB,IAAIhD,MAAAA,CAAOmB,SAAX,CACzB,IAAInB,MAAAA,CAAOoB,QAAX,CACE,CAAA,GAAIoG,GADN,EAEE,CAAA,GAAIA,GAFN,EAGEnK,MAAAA,CAAOR,KAAPQ,GAAe,CAAA,GAAImK,GAHrB,EAIEnK,MAAAA,CAAOP,MAAPO,GAAgB,CAAA,GAAImK,GAJtB,CADyB,EAOzB,OAPyB,CAA3B;cASQ5G,YAAR,CAAqBoC,kBAArB,CAAA;cACQpC,YAAR,CAAqB,IAAIZ,MAAAA,CAAOa,KAAX,CAAiBb,MAAAA,CAAO0H,OAAP1H,CAAe,GAAfA,EAAoB,IAApBA,CAAjB,CAArB,CAAA;cACQY,YAAR,CAAqB,IAAIZ,MAAAA,CAAOc,KAAX,CAAiB,IAAA,CAAK8B,MAAtB,CAArB,CAAA;cAEQlB,IAAR,CAAa,MAAb,CAAA;WACK5B,MAAL,CAAY6B,UAAZ,CAAuB1B,OAAvB,CAAA;UACM2B,QAAAA,GAAW,IAAA,CAAKqD,cAAL,CAAoB5H,MAApB,CAAjB;WACKyC,MAAL,CAAYmC,WAAZ,CAAwBL,QAAxB,CAAA;WAEKoB,kBAAL,GAA0BA,kBAA1B;cACQ2E,OAAR,CAAgB,CAAhB,CAAA;;;;mCAGatK,MAAAA,EAAQ;UACfI,OAAAA,GAAUJ,MAAAA,CAAOK,UAAPL,CAAkB,IAAlBA,CAAhB;UACMuE,QAAAA,GAAW,IAAI5B,MAAAA,CAAO4H,cAAX,EAAjB;eAES9F,cAAT,GAA0B,YAAM;gBACtB+F,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBxK,MAAAA,CAAOR,KAA/B,EAAsCQ,MAAAA,CAAOP,MAA7C,CAAA;OADF;eAISqI,iBAAT,GAA6B,UAAA,QAAA,EAAY;YACjC2C,CAAAA,GAAI5F,QAAAA,CAASC,MAATD,IAAmB,EAA7B;YACM6F,CAAAA,GAAI/H,MAAAA,CAAO8G,QAAP9G,CAAgB+G,UAAhB/G,CAA2B,GAA3BA,EAAgC,GAAhCA,EAAqC,KAArCA,CAAV;iBACS4G,IAAT,CAAckB,CAAd,GAAkBA,CAAlB;iBACSlB,IAAT,CAAcmB,CAAd,GAAkBA,CAAlB;OAJF;eAOS3C,gBAAT,GAA4B,UAAA,QAAA,EAAY;YAChC0C,CAAAA,GAAI5F,QAAAA,CAAS0E,IAAT1E,CAAc4F,CAAxB;YACMC,CAAAA,GAAI7F,QAAAA,CAAS0E,IAAT1E,CAAc6F,CAAxB;gBACQC,IAAR,EAAA;gBACQC,WAAR,GAAsB/F,QAAAA,CAAS8B,KAA/B;gBACQjC,SAAR,GAAoBG,QAAAA,CAAS9C,KAA7B;gBAEQ8I,SAAR,CAAkBhG,QAAAA,CAASb,CAATa,CAAWZ,CAA7B,EAAgCY,QAAAA,CAASb,CAATa,CAAWT,CAA3C,CAAA;gBACQ2C,MAAR,CAAepE,MAAAA,CAAO8G,QAAP9G,CAAgBmI,eAAhBnI,CAAgCkC,QAAAA,CAASkG,QAAzCpI,CAAf,CAAA;gBACQkI,SAAR,CAAkB,CAAChG,QAAAA,CAASb,CAATa,CAAWZ,CAA9B,EAAiC,CAACY,QAAAA,CAASb,CAATa,CAAWT,CAA7C,CAAA;gBAEQmE,SAAR,EAAA;gBACQyC,IAAR,CAAanG,QAAAA,CAASb,CAATa,CAAWZ,CAAXY,GAAe4F,CAAAA,GAAI,CAAhC,EAAmC5F,QAAAA,CAASb,CAATa,CAAWT,CAAXS,GAAe6F,CAAAA,GAAI,CAAtD,EAAyDD,CAAzD,EAA4DC,CAA5D,CAAA;gBAEQ7B,SAAR,EAAA;gBACQmB,IAAR,EAAA;gBACQY,WAAR,GAAsB,CAAtB;gBACQK,OAAR,EAAA;OAjBF;aAoBO1G,QAAP;;;;mCAGa;WACR9B,MAAL,IAAe,IAAA,CAAKA,MAAL,CAAY6C,MAAZ,EAAf;;;;6BAGO;aAEL,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;QAAQ,EAAA,EAAI,IAAA,CAAKlG,KAAL,CAAW8B,EAAvB;kCAC2B,SAD3B;0BAEoB,IAAA,CAAKhB,gBAAL,CAAsBJ,IAAtB,CAA2B,IAA3B,CAFpB;wBAGkB,IAAA,CAAKU,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAHlB;kBAIY,IAAA,CAAKc,QAAL,CAAcd,IAAd,CAAmB,IAAnB;QALd;;;;EAzHgCZ,KAAAA,CAAMC,SAAAA,CAAAA;ICCrB+L,MAAAA,GAAAA,UAAAA,gBAAAA,EAAAA;;kBACP9L,KAAZ,EAAmB;;+GACXA,KADW,CAAA,CAAA;UAEZgD,YAAL,GAAoB,KAAA,CAAKA,YAAL,CAAkBtC,IAAlB,CAAA,KAAA,CAApB;;;;;mCAGaE,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC/B4C,YAAL,CAAkBrC,MAAlB,EAA0BR,KAA1B,EAAiCC,MAAjC,CAAA;iBACW8C,GAAX,CAAe,IAAA,CAAKH,YAApB,CAAA;;;;2CAGqB;UACjB;mBACSI,MAAX,CAAkB,IAAA,CAAKJ,YAAvB,CAAA;aACKK,MAAL,CAAYC,OAAZ,EAAA;OAFF,CAGE,OAAO5B,CAAP,EAAU,CAAA;;;;6BAGLtB,KAAAA,EAAOC,MAAAA,EAAQ;WACjBkG,kBAAL,CAAwBC,IAAxB,CAA6BpG,KAA7B,GAAqCA,KAArC;WACKmG,kBAAL,CAAwBC,IAAxB,CAA6BnG,MAA7B,GAAsCA,MAAtC;WACKgD,MAAL,CAAYoD,SAAZ,CAAsB,CAAtB,CAAA,CAAyBhG,MAAzB,CAAgCL,KAAhC,EAAuCC,MAAvC,CAAA;;;;iCAGWO,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC7BgD,MAAL,GAAc,IAAIE,MAAJ,EAAd;UAEMC,OAAAA,GAAU,IAAID,MAAAA,CAAOE,OAAX,EAAhB;cACQC,IAAR,GAAe,IAAIH,MAAAA,CAAOI,IAAX,CACb,IAAA,CAAK3D,KAAL,CAAW4D,GAAX,GAAiB,IAAIL,MAAAA,CAAOM,IAAX,CAAgB,IAAA,CAAK7D,KAAL,CAAW4D,GAA3B,CAAjB,GAAmD,IAAIL,MAAAA,CAAOM,IAAX,CAAgB,GAAhB,CADtC,EAEb,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,IAAhB,EAAsB,GAAtB,CAFa,CAAf;cAKQC,aAAR,CAAsB,IAAIP,MAAAA,CAAOQ,IAAX,CAAgB,CAAhB,CAAtB,CAAA;cACQD,aAAR,CAAsB,IAAIP,MAAAA,CAAOS,MAAX,CAAkB,CAAlB,EAAqB,CAArB,CAAtB,CAAA;cACQF,aAAR,CAAsB,IAAIP,MAAAA,CAAOU,IAAX,CAAgBoC,QAAhB,CAAtB,CAAA;UAEM0F,SAAAA,GAAY,IAAIxI,MAAAA,CAAO6C,QAAX,CAChB,IAAI7C,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0BvE,KAA1B,EAAiCC,MAAjC,CADgB,CAAlB;cAGQyD,aAAR,CAAsBiI,SAAtB,CAAA;cACQjI,aAAR,CACE,IAAIP,MAAAA,CAAOW,QAAX,CACE,IAAIX,MAAAA,CAAOM,IAAX,CAAgB,GAAhB,EAAqB,GAArB,CADF,EAEE,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,GAAnB,CAFF,EAGE,OAHF,CADF,CAAA;cAQQM,YAAR,CAAqB,IAAIZ,MAAAA,CAAOa,KAAX,CAAiBb,MAAAA,CAAO0H,OAAP1H,CAAe,GAAfA,EAAoB,GAApBA,CAAjB,CAArB,CAAA;cACQY,YAAR,CAAqB,IAAIZ,MAAAA,CAAOc,KAAX,CAAiB,IAAA,CAAKrE,KAAL,CAAW2C,KAAX,IAAoB,MAArC,CAArB,CAAA;WACK4D,kBAAL,GAA0B,IAAIhD,MAAAA,CAAOmB,SAAX,CACxB,IAAInB,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0BvE,KAA1B,EAAiCC,MAAjC,CADwB,EAExB,OAFwB,CAA1B;cAIQ8D,YAAR,CAAqB,IAAA,CAAKoC,kBAA1B,CAAA;cAEQtB,IAAR,CAAa,MAAb,CAAA;cACQ8D,OAAR,GAAkB,CAAlB;WACK1F,MAAL,CAAY6B,UAAZ,CAAuB1B,OAAvB,CAAA;WACKH,MAAL,CAAYmC,WAAZ,CAAwB,IAAA,CAAKgD,cAAL,CAAoB5H,MAApB,EAA4B4C,OAA5B,CAAxB,CAAA;;;;mCAGa5C,MAAAA,EAAQ4C,OAAAA,EAAS;;UACxBxC,OAAAA,GAAUJ,MAAAA,CAAOK,UAAPL,CAAkB,IAAlBA,CAAhB;UACMuE,QAAAA,GAAW,IAAI5B,MAAAA,CAAO6B,cAAX,CAA0BxE,MAA1B,CAAjB;UACMoL,CAAAA,GAAI,GAAV;eAESC,mBAAT,GAA+B,YAAK;YAC9BC,SAAAA,GAAY1I,OAAAA,CAAQ0I,SAAxB;aAEK,IAAI7M,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI6M,SAAAA,CAAU5M,MAA9B,EAAsCD,CAAAA,EAAtC,EAA2C;eACpC,IAAI8M,CAAAA,GAAI9M,CAAAA,GAAI,CAAjB,EAAoB8M,CAAAA,GAAID,SAAAA,CAAU5M,MAAlC,EAA0C6M,CAAAA,EAA1C,EAA+C;gBACzCC,EAAAA,GAAKF,SAAAA,CAAU7M,CAAV6M,CAAT;gBACIG,EAAAA,GAAKH,SAAAA,CAAUC,CAAVD,CAAT;gBACInB,GAAAA,GAAMqB,EAAAA,CAAGxH,CAAHwH,CAAKE,UAALF,CAAgBC,EAAAA,CAAGzH,CAAnBwH,CAAV;gBAEIrB,GAAAA,GAAMiB,CAAV,EAAa;kBACPzE,KAAAA,GAAQ,CAAC,CAAA,GAAIwD,GAAAA,GAAMiB,CAAX,IAAgB,GAA5B;sBACQ5C,WAAR,GAAsB1G,QAAAA,CAAS,MAAA,CAAK1C,KAAL,CAAW2C,KAApBD,EAA2B6E,KAA3B7E,CAAAA,IAAAA,gBAAAA,GAAsD6E,KAAtD7E,GAAAA,GAAtB;sBACQyG,SAAR,EAAA;sBACQG,MAAR,CAAe8C,EAAAA,CAAGxH,CAAHwH,CAAKvH,CAApB,EAAuBuH,EAAAA,CAAGxH,CAAHwH,CAAKpH,CAA5B,CAAA;sBACQwE,MAAR,CAAe6C,EAAAA,CAAGzH,CAAHyH,CAAKxH,CAApB,EAAuBwH,EAAAA,CAAGzH,CAAHyH,CAAKrH,CAA5B,CAAA;sBACQyE,SAAR,EAAA;sBACQC,MAAR,EAAA;;;;OAhBR;aAsBOvE,QAAP;;;;mCAGa;WACR9B,MAAL,IAAe,IAAA,CAAKA,MAAL,CAAY6C,MAAZ,EAAf;;;;6BAGO;aAEL,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;QAAQ,EAAA,EAAI,IAAA,CAAKlG,KAAL,CAAW8B,EAAvB;kCAC2B,QAD3B;wBAEkB,IAAA,CAAKV,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAFlB;kBAGY,IAAA,CAAKc,QAAL,CAAcd,IAAd,CAAmB,IAAnB;QAJd;;;;EAlGgCZ,KAAAA,CAAMC,SAAAA,CAAAA;ICDrBwM,MAAAA,GAAAA,UAAAA,gBAAAA,EAAAA;;kBACPvM,KAAZ,EAAmB;;+GACXA,KADW,CAAA,CAAA;UAGZmG,MAAL,GAAc,CACZ,SADY,EAEZ,SAFY,EAGZ,SAHY,EAIZ,SAJY,EAKZ,SALY,EAMZ,SANY,EAOZ,SAPY,CAAd;UAUKnD,YAAL,GAAoB,KAAA,CAAKA,YAAL,CAAkBtC,IAAlB,CAAA,KAAA,CAApB;;;;;2CAGqB;UACjB;mBACS0C,MAAX,CAAkB,IAAA,CAAKJ,YAAvB,CAAA;aACKK,MAAL,CAAYC,OAAZ,EAAA;OAFF,CAGE,OAAO5B,CAAP,EAAU,CAAA;;;;mCAGCd,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC/B4C,YAAL,CAAkBrC,MAAlB,EAA0BR,KAA1B,EAAiCC,MAAjC,CAAA;iBACW8C,GAAX,CAAe,IAAA,CAAKH,YAApB,CAAA;;;;6BAGO5C,KAAAA,EAAOC,MAAAA,EAAQ;WACjBkG,kBAAL,CAAwBC,IAAxB,CAA6BpG,KAA7B,GAAqCA,KAArC;WACKmG,kBAAL,CAAwBC,IAAxB,CAA6BnG,MAA7B,GAAsCA,MAAtC;WACKgD,MAAL,CAAYoD,SAAZ,CAAsB,CAAtB,CAAA,CAAyBhG,MAAzB,CAAgCL,KAAhC,EAAuCC,MAAvC,CAAA;;;;iCAGWO,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC7BgD,MAAL,GAAc,IAAIE,MAAJ,EAAd;UAEMC,OAAAA,GAAU,IAAID,MAAAA,CAAOE,OAAX,EAAhB;cACQC,IAAR,GAAe,IAAIH,MAAAA,CAAOI,IAAX,CAAgB,IAAA,CAAK3D,KAAL,CAAW4D,GAAX,IAAkB,EAAlC,CAAf;cACQmF,OAAR,GAAkB,KAAlB;cAEQjF,aAAR,CAAsB,IAAIP,MAAAA,CAAOQ,IAAX,CAAgB,CAAhB,CAAtB,CAAA;cACQD,aAAR,CAAsB,IAAIP,MAAAA,CAAOS,MAAX,CAAkB,EAAlB,EAAsB,GAAtB,CAAtB,CAAA;cACQF,aAAR,CACE,IAAIP,MAAAA,CAAOW,QAAX,CACE,IAAIX,MAAAA,CAAOM,IAAX,CAAgB,GAAhB,CADF,EAEE,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,GAAnB,CAFF,EAGE,OAHF,CADF,CAAA;cAOQC,aAAR,CACE,IAAIP,MAAAA,CAAO6C,QAAX,CACE,IAAI7C,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B/D,MAAAA,CAAOR,KAAjC,EAAwCQ,MAAAA,CAAOP,MAA/C,CADF,CADF,CAAA;UAMMkG,kBAAAA,GAAqB,IAAIhD,MAAAA,CAAOmB,SAAX,CACzB,IAAInB,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B/D,MAAAA,CAAOR,KAAjC,EAAwCQ,MAAAA,CAAOP,MAA/C,CADyB,EAEzB,OAFyB,CAA3B;cAIQ8D,YAAR,CAAqBoC,kBAArB,CAAA;cACQpC,YAAR,CAAqB,IAAIZ,MAAAA,CAAOa,KAAX,CAAiBb,MAAAA,CAAO0H,OAAP1H,CAAe,IAAfA,EAAqB,IAArBA,CAAjB,CAArB,CAAA;cACQY,YAAR,CAAqB,IAAIZ,MAAAA,CAAOc,KAAX,CAAiB,IAAA,CAAK3B,QAAL,EAAjB,CAArB,CAAA;cACQyB,YAAR,CAAqB,IAAIZ,MAAAA,CAAO8E,WAAX,CAAuB,EAAvB,EAA2B,EAA3B,EAA+B,GAA/B,CAArB,CAAA;cAEQpD,IAAR,CAAa,MAAb,CAAA;WACK5B,MAAL,CAAY6B,UAAZ,CAAuB1B,OAAvB,CAAA;UAEM2B,QAAAA,GAAW,IAAI5B,MAAAA,CAAO6B,cAAX,CAA0BxE,MAA1B,CAAjB;WACKyC,MAAL,CAAYmC,WAAZ,CAAwBL,QAAxB,CAAA;WAEKoB,kBAAL,GAA0BA,kBAA1B;;;;+BAGS;UACL3D,CAAAA,GAAI,IAAA,CAAKuD,MAAb;UACI,IAAA,CAAKnG,KAAL,CAAW2C,KAAf,EAAsB;YACjBkE,KAAAA,CAAMC,OAAND,CAAc,IAAA,CAAK7G,KAAL,CAAW2C,KAAzBkE,CAAH,EAAmC;cAC7B,IAAA,CAAK7G,KAAL,CAAW2C,KAAf;SADF,MAEK;cACC,CAAC,IAAA,CAAK3C,KAAL,CAAW2C,KAAZ,CAAJ;;;aAIGC,CAAP;;;;mCAGa;WACRS,MAAL,IAAe,IAAA,CAAKA,MAAL,CAAY6C,MAAZ,EAAf;;;;6BAGO;aAEL,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;QAAQ,EAAA,EAAI,IAAA,CAAKlG,KAAL,CAAW8B,EAAvB;kCAC2B,QAD3B;wBAEkB,IAAA,CAAKV,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAFlB;kBAGY,IAAA,CAAKc,QAAL,CAAcd,IAAd,CAAmB,IAAnB;QAJd;;;;EA7FgCZ,KAAAA,CAAMC,SAAAA,CAAAA;ICArByM,OAAAA,GAAAA,UAAAA,gBAAAA,EAAAA;;mBACPxM,KAAZ,EAAmB;;iHACXA,KADW,CAAA,CAAA;UAEZgD,YAAL,GAAoB,KAAA,CAAKA,YAAL,CAAkBtC,IAAlB,CAAA,KAAA,CAApB;;;;;qCAGeE,MAAAA,EAAQ,CAAA;;;mCAIVA,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC/B4C,YAAL,CAAkBrC,MAAlB,EAA0BR,KAA1B,EAAiCC,MAAjC,CAAA;WACK2C,YAAL,EAAA;;;;6BAGO5C,KAAAA,EAAOC,MAAAA,EAAQ;WACjBkG,kBAAL,CAAwBC,IAAxB,CAA6BpG,KAA7B,GAAqCA,KAArC;WACKmG,kBAAL,CAAwBC,IAAxB,CAA6BnG,MAA7B,GAAsCA,MAAtC;WACKgD,MAAL,CAAYoD,SAAZ,CAAsB,CAAtB,CAAA,CAAyBhG,MAAzB,CAAgCL,KAAhC,EAAuCC,MAAvC,CAAA;;;;iCAGWO,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC7BgD,MAAL,GAAc,IAAIE,MAAJ,EAAd;UAEMC,OAAAA,GAAU,IAAID,MAAAA,CAAOE,OAAX,EAAhB;cACQsF,OAAR,GAAkB,KAAlB;cACQrF,IAAR,GAAe,IAAIH,MAAAA,CAAOI,IAAX,CAAgB,IAAA,CAAK3D,KAAL,CAAW4D,GAAX,GAAiB,IAAA,CAAK5D,KAAL,CAAW4D,GAA5B,GAAkC,EAAlD,CAAf;cACQE,aAAR,CAAsB,IAAIP,MAAAA,CAAOQ,IAAX,CAAgB,CAAhB,CAAtB,CAAA;cACQD,aAAR,CAAsB,IAAIP,MAAAA,CAAOS,MAAX,CAAkB,CAAlB,EAAqB,CAArB,CAAtB,CAAA;cACQF,aAAR,CACE,IAAIP,MAAAA,CAAOW,QAAX,CACE,IAAIX,MAAAA,CAAOM,IAAX,CAAgB,GAAhB,CADF,EAEE,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,GAAnB,CAFF,EAGE,OAHF,CADF,CAAA;cAOQC,aAAR,CACE,IAAIP,MAAAA,CAAO6C,QAAX,CAAoB,IAAI7C,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0BvE,KAA1B,EAAiCC,MAAjC,CAApB,CADF,CAAA;UAIMoM,SAAAA,GAAY;WACbrM,KAAAA,GAAQ,CADK;WAEbC,MAAAA,GAAS;OAFd;UAKM4I,mBAAAA,GAAsB,IAAI1F,MAAAA,CAAO2F,UAAX,CAAsBuD,SAAtB,EAAiC,CAAjC,EAAoC,CAApC,CAA5B;UACMlG,kBAAAA,GAAqB,IAAIhD,MAAAA,CAAOmB,SAAX,CACzB,IAAInB,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B/D,MAAAA,CAAOR,KAAjC,EAAwCQ,MAAAA,CAAOP,MAA/C,CADyB,EAEzB,OAFyB,CAA3B;cAIQ8D,YAAR,CAAqB,IAAIZ,MAAAA,CAAOc,KAAX,CAAiB,IAAA,CAAKrE,KAAL,CAAW2C,KAAX,IAAoB,MAArC,CAArB,CAAA;;cAEQwB,YAAR,CAAqB8E,mBAArB,EAA0C1C,kBAA1C,CAAA;cACQpC,YAAR,CAAqB,IAAIZ,MAAAA,CAAO8E,WAAX,CAAuB,EAAvB,EAA2B,EAA3B,EAA+B,IAA/B,CAArB,CAAA;cACQpD,IAAR,CAAa,MAAb,CAAA;WAEK5B,MAAL,CAAY6B,UAAZ,CAAuB1B,OAAvB,CAAA;WACKH,MAAL,CAAYmC,WAAZ,CAAwB,IAAA,CAAKgD,cAAL,CAAoB5H,MAApB,CAAxB,CAAA;WACK2F,kBAAL,GAA0BA,kBAA1B;;;;mCAGa3F,MAAAA,EAAQ;UACf8L,UAAAA,GAAa,EAAnB;UACMC,SAAAA,GAAY,CAAlB;UACM3L,OAAAA,GAAUJ,MAAAA,CAAOK,UAAPL,CAAkB,IAAlBA,CAAhB;UACMuE,QAAAA,GAAW,IAAI5B,MAAAA,CAAO6B,cAAX,CAA0BxE,MAA1B,CAAjB;eAESyE,cAAT,GAA0B,YAAY;gBAC5B+F,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBxK,MAAAA,CAAOR,KAA/B,EAAsCQ,MAAAA,CAAOP,MAA7C,CAAA;OADF;eAISqI,iBAAT,GAA6B,UAAA,QAAA,EAAY;iBAC9ByB,IAAT,CAAcyC,MAAd,GAAuB,EAAvB;iBACSzC,IAAT,CAAcN,KAAd,GAAsB,CAAtB;OAFF;eAKSlB,gBAAT,GAA4B,UAAUlD,QAAV,EAAoB;wBAC9BA,QAAhB,CAAA;YACIA,QAAAA,CAAS0E,IAAT1E,CAAcoE,KAAdpE,GAAsBkH,SAAtBlH,KAAoC,CAAxC,EAA2CoH,cAAAA,CAAepH,QAAfoH,CAAAA;wBAC3BpH,QAAhB,CAAA;iBACS0E,IAAT,CAAcN,KAAd,EAAA;OAJF;UAOMgD,cAAAA,GAAiB,SAAjBA,cAAiB,CAAA,QAAA,EAAY;iBACxB1C,IAAT,CAAcyC,MAAd,CAAqBE,OAArB,CAA6BrH,QAAAA,CAASb,CAATa,CAAWT,CAAxC,CAAA;iBACSmF,IAAT,CAAcyC,MAAd,CAAqBE,OAArB,CAA6BrH,QAAAA,CAASb,CAATa,CAAWZ,CAAxC,CAAA;YAEIY,QAAAA,CAAS0E,IAAT1E,CAAcmH,MAAdnH,CAAqBnG,MAArBmG,GAA8BiH,UAAlC,EAA8C;mBACnCvC,IAAT,CAAcyC,MAAd,CAAqBG,GAArB,EAAA;mBACS5C,IAAT,CAAcyC,MAAd,CAAqBG,GAArB,EAAA;;OANJ;UAUMC,eAAAA,GAAkB,SAAlBA,eAAkB,CAAA,QAAA,EAAY;gBAC1B1H,SAAR,GAAoBG,QAAAA,CAAS9C,KAA7B;gBACQwG,SAAR,EAAA;gBACQwB,GAAR,CACElF,QAAAA,CAASb,CAATa,CAAWZ,CADb,EAEEY,QAAAA,CAASb,CAATa,CAAWT,CAFb,EAGES,QAAAA,CAASC,MAHX,EAIE,CAJF,EAKE/F,IAAAA,CAAK4K,EAAL5K,GAAU,CALZ,EAME,IANF,CAAA;gBAQQ8J,SAAR,EAAA;gBACQmB,IAAR,EAAA;OAZF;UAeMqC,eAAAA,GAAkB,SAAlBA,eAAkB,CAAA,QAAA,EAAY;gBAC1B9D,SAAR,EAAA;gBACQC,WAAR,GAAsB3D,QAAAA,CAAS9C,KAA/B;gBAEQ2G,MAAR,CAAe7D,QAAAA,CAASb,CAATa,CAAWZ,CAA1B,EAA6BY,QAAAA,CAASb,CAATa,CAAWT,CAAxC,CAAA;YAEMkI,CAAAA,GAAIzH,QAAAA,CAAS0E,IAAT1E,CAAcmH,MAAdnH,CAAqBnG,MAA/B;aACK,IAAID,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,GAAI6N,CAApB,EAAuB7N,CAAAA,IAAK,CAA5B,EAA+B;cACvBwF,CAAAA,GAAIY,QAAAA,CAAS0E,IAAT1E,CAAcmH,MAAdnH,CAAqBpG,CAArBoG,CAAV;cACMT,CAAAA,GAAIS,QAAAA,CAAS0E,IAAT1E,CAAcmH,MAAdnH,CAAqBpG,CAAAA,GAAI,CAAzBoG,CAAV;kBAEQ4D,SAAR,GAAoB8D,gBAAAA,CAAiB9N,CAAjB8N,EAAoBD,CAApBC,CAApB;kBACQ3D,MAAR,CAAe3E,CAAf,EAAkBG,CAAlB,CAAA;kBACQ0E,MAAR,EAAA;;OAbJ;UAiBMyD,gBAAAA,GAAmB,SAAnBA,gBAAmB,CAAC9N,CAAD,EAAI6N,CAAJ,EAAU;YAC7BA,CAAAA,IAAK,CAAT,EAAY,OAAO,CAAP;YAENnI,GAAAA,GAAM,CAAZ;YACMqI,CAAAA,GAAI,CAACrI,GAAAA,GAAM,CAAP,KAAa,CAAA,GAAImI,CAAJ,GAAQ,CAArB,CAAV;YACMG,CAAAA,GAAI,CAAA,GAAID,CAAd;YACME,CAAAA,GAAI,CAACjO,CAAAA,GAAI,CAAL,IAAU6N,CAApB;YACI1N,GAAAA,GAAM4N,CAAAA,GAAIE,CAAJF,GAAQC,CAAlB;cACM7N,GAAAA,IAAO,CAAb;eAEOA,GAAP;OAVF;aAaO2F,QAAP;;;;mCAGa;;iBACFhC,GAAX,CAAe,YAAM;eACdE,MAAL,CAAY6C,MAAZ,EAAA;;OADF,CAAA;;;;6BAMO;aAEL,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;QAAQ,EAAA,EAAI,IAAA,CAAKlG,KAAL,CAAW8B,EAAvB;kCAC2B,QAD3B;0BAEoB,IAAA,CAAKhB,gBAAL,CAAsBJ,IAAtB,CAA2B,IAA3B,CAFpB;wBAGkB,IAAA,CAAKU,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAHlB;kBAIY,IAAA,CAAKc,QAAL,CAAcd,IAAd,CAAmB,IAAnB;QALd;;;;EArJiCZ,KAAAA,CAAMC,SAAAA,CAAAA;ACA3C,IAAMwN,KAAAA,GAAQ,CACZ,SADY,EAEZ,SAFY,EAGZ,SAHY,EAIZ,SAJY,EAKZ,SALY,EAMZ,SANY,EAOZ,SAPY,EAQZ,SARY,CAAd;IAWqBC,OAAAA,GAAAA,UAAAA,gBAAAA,EAAAA;;mBACPxN,KAAZ,EAAmB;;iHACXA,KADW,CAAA,CAAA;UAEZgD,YAAL,GAAoB,KAAA,CAAKA,YAAL,CAAkBtC,IAAlB,CAAA,KAAA,CAApB;;;;;mCAGaE,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC/B4C,YAAL,CAAkBrC,MAAlB,CAAA;WACK6M,aAAL,CAAmB;sBAAA;WAEdrN,KAAAA,GAAQ,CAFM;WAGdC,MAAAA,GAAS,CAHK;qBAIJ,IAJI;cAKX;OALR,CAAA;iBAQW8C,GAAX,CAAe,IAAA,CAAKH,YAApB,CAAA;;;;2CAGqB;UACjB;mBACSI,MAAX,CAAkB,IAAA,CAAKJ,YAAvB,CAAA;aACKK,MAAL,CAAYC,OAAZ,EAAA;OAFF,CAGE,OAAO5B,CAAP,EAAU,CAAA;;;;+BAGH,CAAA;;;iCAEEd,MAAAA,EAAQ;WACdyC,MAAL,GAAc,IAAIE,MAAJ,EAAd;UACM4B,QAAAA,GAAW,IAAA,CAAKqD,cAAL,CAAoB5H,MAApB,CAAjB;WACKyC,MAAL,CAAYmC,WAAZ,CAAwBL,QAAxB,CAAA;;;;mCAGavE,MAAAA,EAAQ;UACfI,OAAAA,GAAUJ,MAAAA,CAAOK,UAAPL,CAAkB,IAAlBA,CAAhB;UACMuE,QAAAA,GAAW,IAAI5B,MAAAA,CAAO4H,cAAX,EAAjB;eAES9F,cAAT,GAA0B,YAAM;gBACtB+F,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBxK,MAAAA,CAAOR,KAA/B,EAAsCQ,MAAAA,CAAOP,MAA7C,CAAA;OADF;eAISqI,iBAAT,GAA6B,UAAA,QAAA,EAAY;iBAC9ByB,IAAT,CAAcuD,KAAd,GAAsBnK,MAAAA,CAAO8G,QAAP9G,CAAgB+G,UAAhB/G,CAA2B,CAA3BA,EAA8B,EAA9BA,EAAkC,IAAlCA,CAAtB;OADF;eAISoF,gBAAT,GAA4B,UAAA,QAAA,EAAY;gBAC9B4C,IAAR,EAAA;gBACQC,WAAR,GAAsB/F,QAAAA,CAAS8B,KAA/B;gBACQjC,SAAR,GAAoBG,QAAAA,CAAS9C,KAA7B;gBAEQ8I,SAAR,CAAkBhG,QAAAA,CAASb,CAATa,CAAWZ,CAA7B,EAAgCY,QAAAA,CAASb,CAATa,CAAWT,CAA3C,CAAA;gBACQ2C,MAAR,CAAepE,MAAAA,CAAO8G,QAAP9G,CAAgBmI,eAAhBnI,CAAgCkC,QAAAA,CAASkG,QAAzCpI,CAAf,CAAA;gBACQkI,SAAR,CAAkB,CAAChG,QAAAA,CAASb,CAATa,CAAWZ,CAA9B,EAAiC,CAACY,QAAAA,CAASb,CAATa,CAAWT,CAA7C,CAAA;gBAEQmE,SAAR,EAAA;oBACY1D,QAAZ,EAAsBA,QAAAA,CAAS0E,IAAT1E,CAAciI,KAApC,CAAA;gBAEQjE,SAAR,EAAA;gBACQmB,IAAR,EAAA;gBACQY,WAAR,GAAsB,CAAtB;gBACQK,OAAR,EAAA;OAfF;eAkBS8B,cAAT,GAA0B,UAAA,QAAA,EAAY,CAAA,CAAtC;UAEMC,WAAAA,GAAc,SAAdA,WAAc,CAACnI,QAAD,EAAWiI,KAAX,EAAqB;YACnCA,KAAAA,IAAS,CAAb,EAAgB;kBACN/C,GAAR,CACElF,QAAAA,CAASb,CAATa,CAAWZ,CADb,EAEEY,QAAAA,CAASb,CAATa,CAAWT,CAFb,EAGES,QAAAA,CAASC,MAHX,EAIE,CAJF,EAKE/F,IAAAA,CAAK4K,EAAL5K,GAAU,CALZ,EAME,IANF,CAAA;SADF,MASO;cACC+F,MAAAA,GAASD,QAAAA,CAASC,MAAxB;eAEK,IAAIrG,CAAAA,GAAI,CAAb,EAAgBA,CAAAA,IAAKqO,KAArB,EAA4BrO,CAAAA,EAA5B,EAAiC;gBAC3BwF,CAAAA,GACFY,QAAAA,CAASb,CAATa,CAAWZ,CAAXY,GACAC,MAAAA,GAAS/F,IAAAA,CAAK+K,GAAL/K,CAAYA,IAAAA,CAAK4K,EAAL5K,GAAU,GAAX,GAAkB,GAAnB,GAA0B+N,KAA3B,GAAoCrO,CAA7CM,CAFX;gBAGIqF,CAAAA,GACFS,QAAAA,CAASb,CAATa,CAAWT,CAAXS,GACAC,MAAAA,GAAS/F,IAAAA,CAAKkO,GAALlO,CAAYA,IAAAA,CAAK4K,EAAL5K,GAAU,GAAX,GAAkB,GAAnB,GAA0B+N,KAA3B,GAAoCrO,CAA7CM,CAFX;gBAIIN,CAAAA,KAAM,CAAV,EAAa2B,OAAAA,CAAQsI,MAARtI,CAAe6D,CAAf7D,EAAkBgE,CAAlBhE,CAAAA,CAAb,KACKA,OAAAA,CAAQwI,MAARxI,CAAe6D,CAAf7D,EAAkBgE,CAAlBhE,CAAAA;;;OAtBX;aA2BOmE,QAAP;;;;wCAcC;UAVD2I,WAUC,GAAA,IAAA,CAVDA,WAUC;QATDlN,MASC,GAAA,IAAA,CATDA,MASC;QARDiE,CAQC,GAAA,IAAA,CARDA,CAQC;QAPDG,CAOC,GAAA,IAAA,CAPDA,CAOC;QANDU,MAMC,GAAA,IAAA,CANDA,MAMC;0BALD/C,KAKC;QALDA,KAKC,GAAA,UAAA,KAAA,SAAA,GALO4K,KAKP,GAAA,UAAA;yBAJD/G,IAIC;QAJDA,IAIC,GAAA,SAAA,KAAA,SAAA,GAJM,MAIN,GAAA,SAAA;yBAHDuH,IAGC;QAHDA,IAGC,GAAA,SAAA,KAAA,SAAA,GAHM,KAGN,GAAA,SAAA;0BAFDxG,KAEC;QAFDA,KAEC,GAAA,UAAA,KAAA,SAAA,GAFO,IAEP,GAAA,UAAA;4BADDyG,OACC;QADDA,OACC,GAAA,YAAA,KAAA,SAAA,GADS,GACT,GAAA,YAAA;UACKxK,OAAAA,GAAU,IAAA,CAAKH,MAAL,CAAY4K,IAAZ,CAAiBC,GAAjB,CAAqB3K,MAAAA,CAAOE,OAA5B,CAAhB;UAEI,CAACD,OAAAA,CAAQ2K,SAAb,EAAwB;gBACdzK,IAAR,GAAe,IAAIH,MAAAA,CAAOI,IAAX,CACb,IAAA,CAAK3D,KAAL,CAAW4D,GAAX,GAAiB,IAAIL,MAAAA,CAAOM,IAAX,CAAgB,IAAA,CAAK7D,KAAL,CAAW4D,GAA3B,CAAjB,GAAmD,IAAIL,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CADtC,EAEb,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,GAAhB,EAAqB,GAArB,CAFa,CAAf;YAKMuK,UAAAA,GAAaN,WAAAA,GACf,IAAIvK,MAAAA,CAAOS,MAAX,CAAkB,EAAlB,EAAsB,GAAtB,CADe8J,GAEf,IAAIvK,MAAAA,CAAOS,MAAX,CAAkB,CAAlB,EAAqB0B,MAArB,CAFJ;gBAGQ5B,aAAR,CAAsB,IAAIP,MAAAA,CAAOQ,IAAX,CAAgB,CAAhB,CAAtB,CAAA;gBACQD,aAAR,CAAsBsK,UAAtB,CAAA;gBACQtK,aAAR,CAAsB,IAAIP,MAAAA,CAAOU,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CAAtB,CAAA;gBACQH,aAAR,CACE,IAAIP,MAAAA,CAAOW,QAAX,CACE,IAAIX,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CADF,EAEE,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,CAAC,EAAjB,EAAqB,EAArB,CAFF,EAGE,OAHF,CADF,CAAA;gBAQQM,YAAR,CAAqB,IAAIZ,MAAAA,CAAOa,KAAX,CAAiBmD,KAAjB,EAAwB,GAAxB,CAArB,CAAA;gBACQpD,YAAR,CAAqB,IAAIZ,MAAAA,CAAOc,KAAX,CAAiB1B,KAAjB,CAArB,CAAA;gBACQwB,YAAR,CAAqB,IAAIZ,MAAAA,CAAOe,KAAX,CAAiB,CAAjB,EAAoB,GAApB,CAArB,CAAA;gBACQH,YAAR,CAAqB,IAAIZ,MAAAA,CAAO6E,MAAX,EAArB,CAAA;gBACQjE,YAAR,CAAqB,IAAIZ,MAAAA,CAAOgB,OAAX,CAAmByJ,OAAnB,CAArB,CAAA;gBAEQ7J,YAAR,CAAqB,IAAA,CAAKM,mBAAL,CAAyB7D,MAAzB,CAArB,CAAA;gBACQuD,YAAR,CACE,IAAIZ,MAAAA,CAAOmB,SAAX,CACE,IAAInB,MAAAA,CAAOoB,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B/D,MAAAA,CAAOR,KAAjC,EAAwCQ,MAAAA,CAAOP,MAA/C,CADF,EAEEmG,IAFF,CADF,CAAA;;cAQM5B,CAAR,CAAUC,CAAV,GAAcA,CAAd;cACQD,CAAR,CAAUI,CAAV,GAAcA,CAAd;UACI+I,IAAAA,KAAS,MAAb,EAAqBvK,OAAAA,CAAQyB,IAARzB,CAAa,MAAbA,CAAAA,CAArB,KACKA,OAAAA,CAAQyB,IAARzB,EAAAA;WAEAH,MAAL,CAAY6B,UAAZ,CAAuB1B,OAAvB,CAAA;;;;;kCAIYA,OAAAA,EAAS;;iBACV,YAAM;gBACP2K,SAAR,GAAoB,IAApB;eACK9K,MAAL,CAAY4K,IAAZ,CAAiBI,MAAjB,CAAwB7K,OAAxB,CAAA;eACKH,MAAL,CAAYiL,aAAZ,CAA0B9K,OAA1B,CAAA;OAHF,EAIG,GAJH,CAAA;;;;wCAOkB5C,MAAAA,EAAQ;;aACnB;oBACO,SAAA,UAAA,CAAA,QAAA,EAAY;mBACbuJ,IAAT,GAAgB1E,QAAAA,CAAS0E,IAAT1E,IAAiB,CAAA,CAAjC;mBACS0E,IAAT,CAAcoE,SAAd,GAA0B9I,QAAAA,CAASC,MAAnC;mBACSyE,IAAT,CAAcqE,YAAd,GAA6B,CAA7B;SAJG;wBAMW,SAAA,cAAA,CAAA,QAAA,EAAY;cACtB/I,QAAAA,CAASC,MAATD,GAAkB,CAAtB,EAAyB;cACrBA,QAAAA,CAAS0E,IAAT1E,CAAc+I,YAAd/I,IAA8B,CAAlC,EAAqC;cAEjCA,QAAAA,CAASC,MAATD,IAAoB,CAAA,GAAI,CAAL,GAAUA,QAAAA,CAAS0E,IAAT1E,CAAc8I,SAA/C,EAA0D;qBAC/CpE,IAAT,CAAcqE,YAAd,EAAA;mBACKf,aAAL,CAAmB;4BAAA;iBAEdhI,QAAAA,CAASb,CAATa,CAAWZ,CAFG;iBAGdY,QAAAA,CAASb,CAATa,CAAWT,CAHG;sBAITS,QAAAA,CAASC,MAATD,IAAmB,CAAA,GAAI,CAAvBA,CAJS;qBAKV,GALU;uBAMR,CANQ;qBAOVA,QAAAA,CAAS9C,KAPC;oBAQX;aARR,CAAA;;;OAZN;;;;mCA2Ba;WACRU,MAAL,IAAe,IAAA,CAAKA,MAAL,CAAY6C,MAAZ,EAAf;;;;6BAGO;aAEL,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;QAAQ,EAAA,EAAI,IAAA,CAAKlG,KAAL,CAAW8B,EAAvB;kCAC2B,QAD3B;wBAEkB,IAAA,CAAKV,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAFlB;kBAGY,IAAA,CAAKc,QAAL,CAAcd,IAAd,CAAmB,IAAnB;QAJd;;;;EAnMiCZ,KAAAA,CAAMC,SAAAA,CAAAA;ICXtB0O,QAAAA,GAAAA,UAAAA,gBAAAA,EAAAA;;oBACPzO,KAAZ,EAAmB;;mHACXA,KADW,CAAA,CAAA;UAGZmG,MAAL,GAAc,CACZ,SADY,EAEZ,SAFY,EAGZ,SAHY,EAIZ,SAJY,EAKZ,SALY,EAMZ,SANY,EAOZ,SAPY,CAAd;UASKnD,YAAL,GAAoB,KAAA,CAAKA,YAAL,CAAkBtC,IAAlB,CAAA,KAAA,CAApB;;;;;2CAGqB;UACjB;mBACS0C,MAAX,CAAkB,IAAA,CAAKJ,YAAvB,CAAA;aACKK,MAAL,CAAYC,OAAZ,EAAA;OAFF,CAGE,OAAO5B,CAAP,EAAU,CAAA;;;;mCAGCd,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC/B4C,YAAL,CAAkBrC,MAAlB,EAA0BR,KAA1B,EAAiCC,MAAjC,CAAA;iBACW8C,GAAX,CAAe,IAAA,CAAKH,YAApB,CAAA;;;;+BAGS,CAAA;;;iCAEEpC,MAAAA,EAAQR,KAAAA,EAAOC,MAAAA,EAAQ;WAC7BgD,MAAL,GAAc,IAAIE,MAAJ,EAAd;UACMC,OAAAA,GAAU,IAAID,MAAAA,CAAOE,OAAX,EAAhB;cACQC,IAAR,GAAe,IAAIH,MAAAA,CAAOI,IAAX,CACb,IAAA,CAAK3D,KAAL,CAAW4D,GAAX,GAAiB,IAAIL,MAAAA,CAAOM,IAAX,CAAgB,IAAA,CAAK7D,KAAL,CAAW4D,GAA3B,CAAjB,GAAmD,IAAIL,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CADtC,EAEb,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,GAAhB,EAAqB,IAArB,CAFa,CAAf;cAKQC,aAAR,CAAsB,IAAIP,MAAAA,CAAOQ,IAAX,CAAgB,CAAhB,CAAtB,CAAA;cACQD,aAAR,CAAsB,IAAIP,MAAAA,CAAOS,MAAX,CAAkB,EAAlB,EAAsB,GAAtB,CAAtB,CAAA;cACQF,aAAR,CAAsB,IAAIP,MAAAA,CAAOU,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CAAtB,CAAA;cACQH,aAAR,CACE,IAAIP,MAAAA,CAAOW,QAAX,CACE,IAAIX,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,CADF,EAEE,IAAIN,MAAAA,CAAOM,IAAX,CAAgB,CAAhB,EAAmB,GAAnB,CAFF,EAGE,OAHF,CADF,CAAA;cAOQC,aAAR,CACE,IAAIP,MAAAA,CAAO6C,QAAX,CAAoB,IAAI7C,MAAAA,CAAOwG,UAAX,CAAsB3J,KAAAA,GAAQ,CAA9B,EAAiCC,MAAAA,GAAS,CAA1C,EAA6C,GAA7C,CAApB,CADF,CAAA;cAIQ8D,YAAR,CAAqB,IAAIZ,MAAAA,CAAOa,KAAX,CAAiB,CAAjB,EAAoB,CAApB,CAArB,CAAA;cACQD,YAAR,CAAqB,IAAIZ,MAAAA,CAAOe,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAArB,CAAA;cACQH,YAAR,CAAqB,IAAA,CAAKuK,qBAAL,EAArB,CAAA;cACQvK,YAAR,CAAqB,IAAIZ,MAAAA,CAAOc,KAAX,CAAiB,IAAA,CAAK8B,MAAtB,EAA8B,QAA9B,CAArB,CAAA;cACQlB,IAAR,EAAA;WACK5B,MAAL,CAAY6B,UAAZ,CAAuB1B,OAAvB,CAAA;UAEM2B,QAAAA,GAAW,IAAI5B,MAAAA,CAAO6B,cAAX,CAA0BxE,MAA1B,CAAjB;WACKyC,MAAL,CAAYmC,WAAZ,CAAwBL,QAAxB,CAAA;;;;4CAGsB;UAChByC,CAAAA,GAAI,EAAA,GAAK,GAAf;aACO;oBACO,SAAA,UAAA,CAASnC,QAAT,EAAmB;mBACpBmC,CAAT,GAAa,IAAIrE,MAAAA,CAAOoL,QAAX,CAAoB,CAApB,EAAuB,CAAvB,CAAb;SAFG;wBAIW,SAAA,cAAA,CAAA,QAAA,EAAY;cACtBrP,MAAAA,GAASmG,QAAAA,CAAS4B,CAAT5B,CAAWnG,MAAXmG,EAAAA,GAAsB,IAAnC;cACImJ,QAAAA,GAAWnJ,QAAAA,CAAS4B,CAAT5B,CAAWoJ,WAAXpJ,EAAf;sBACY,IAAA,GAAO,CAAnB;mBAESmC,CAAT,CAAW/C,CAAX,GAAe+C,CAAAA,GAAItI,MAAJsI,GAAajI,IAAAA,CAAK+K,GAAL/K,CAASiP,QAATjP,CAA5B;mBACSiI,CAAT,CAAW5C,CAAX,GAAe4C,CAAAA,GAAItI,MAAJsI,GAAajI,IAAAA,CAAKkO,GAALlO,CAASiP,QAATjP,CAA5B;mBACSF,CAAT,CAAW0D,GAAX,CAAesC,QAAAA,CAASmC,CAAxB,CAAA;;OAXJ;;;;mCAgBa;WACRvE,MAAL,IAAe,IAAA,CAAKA,MAAL,CAAY6C,MAAZ,EAAf;;;;6BAGO;aAEL,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;QAAQ,EAAA,EAAI,IAAA,CAAKlG,KAAL,CAAW8B,EAAvB;kCAC2B,KAD3B;wBAEkB,IAAA,CAAKV,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAFlB;kBAGY,IAAA,CAAKc,QAAL,CAAcd,IAAd,CAAmB,IAAnB;QAJd;;;;EAtFkCZ,KAAAA,CAAMC,SAAAA,CAAAA;ICSvB+O,WAAAA,GAAAA,UAAAA,UAAAA,EAAAA;;uBAEP9O,KAAZ,EAAmB;;oHACXA,KADW,CAAA,CAAA;;;;gCAIP;mBACiB,IAAA,CAAKA,KADtB;QACF4D,GADE,GAAA,MAAA,CACFA,GADE;QACG9B,EADH,GAAA,MAAA,CACGA,EADH;QACOa,KADP,GAAA,MAAA,CACOA,KADP;;;;;UAKN,CAAC,IAAA,CAAK/C,MAAV,EAAkB;aACXA,MAAL,GAAc,IAAId,IAAJ,EAAd;aACKc,MAAL,CAAYmP,GAAZ,CAAgB,IAAhB,EAAsB,KAAA,CAAA,aAAA,CAAC,KAAD,EAAA;UAAO,GAAA,EAAKnL,GAAZ;UAAiB,EAAA,EAAI9B,EAArB;UAAyB,KAAA,EAAzB;QAAA,CAAA,CAAtB,CAAA;aACKlC,MAAL,CAAYmP,GAAZ,CAAgB,GAAhB,EAAqB,KAAA,CAAA,aAAA,CAAC,IAAD,EAAA;UAAM,GAAA,EAAKnL,GAAX;UAAgB,EAAA,EAAI9B,EAApB;UAAwB,KAAA,EAAxB;QAAA,CAAA,CAArB,CAAA;aACKlC,MAAL,CAAYmP,GAAZ,CAAgB,GAAhB,EAAqB,KAAA,CAAA,aAAA,CAAC,KAAD,EAAA;UAAO,GAAA,EAAKnL,GAAZ;UAAiB,EAAA,EAAI9B,EAArB;UAAyB,KAAA,EAAzB;QAAA,CAAA,CAArB,CAAA;aACKlC,MAAL,CAAYmP,GAAZ,CAAgB,IAAhB,EAAsB,KAAA,CAAA,aAAA,CAAC,KAAD,EAAA;UAAO,GAAA,EAAKnL,GAAZ;UAAiB,EAAA,EAAI9B,EAArB;UAAyB,KAAA,EAAzB;QAAA,CAAA,CAAtB,CAAA;aACKlC,MAAL,CAAYmP,GAAZ,CAAgB,IAAhB,EAAsB,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;UAAQ,GAAA,EAAKnL,GAAb;UAAkB,EAAA,EAAI9B,EAAtB;UAA0B,KAAA,EAA1B;QAAA,CAAA,CAAtB,CAAA;aACKlC,MAAL,CAAYmP,GAAZ,CAAgB,IAAhB,EAAsB,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;UAAQ,GAAA,EAAKnL,GAAb;UAAkB,EAAA,EAAI9B,EAAtB;UAA0B,KAAA,EAA1B;QAAA,CAAA,CAAtB,CAAA;aACKlC,MAAL,CAAYmP,GAAZ,CAAgB,GAAhB,EAAqB,KAAA,CAAA,aAAA,CAAC,OAAD,EAAA;UAAS,GAAA,EAAKnL,GAAd;UAAmB,EAAA,EAAI9B,EAAvB;UAA2B,KAAA,EAA3B;QAAA,CAAA,CAArB,CAAA;aACKlC,MAAL,CAAYmP,GAAZ,CAAgB,IAAhB,EAAsB,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;UAAQ,GAAA,EAAKnL,GAAb;UAAkB,EAAA,EAAI9B,EAAtB;UAA0B,KAAA,EAA1B;QAAA,CAAA,CAAtB,CAAA;aACKlC,MAAL,CAAYmP,GAAZ,CAAgB,IAAhB,EAAsB,KAAA,CAAA,aAAA,CAAC,OAAD,EAAA;UAAS,GAAA,EAAKnL,GAAd;UAAmB,EAAA,EAAI9B,EAAvB;UAA2B,KAAA,EAA3B;QAAA,CAAA,CAAtB,CAAA;aACKlC,MAAL,CAAYmP,GAAZ,CAAgB,IAAhB,EAAsB,KAAA,CAAA,aAAA,CAAC,QAAD,EAAA;UAAU,GAAA,EAAKnL,GAAf;UAAoB,EAAA,EAAI9B,EAAxB;UAA4B,KAAA,EAA5B;QAAA,CAAA,CAAtB,CAAA;;aAEK,IAAA,CAAKlC,MAAL,CAAYoP,SAAZ,EAAP;;;;qCAGe;oBAC0B,IAAA,CAAKhP,KAD/B;QACPiP,IADO,GAAA,OAAA,CACPA,IADO;QACDrL,GADC,GAAA,OAAA,CACDA,GADC;QACI9B,EADJ,GAAA,OAAA,CACIA,EADJ;QACQa,KADR,GAAA,OAAA,CACQA,KADR;QACeiE,MADf,GAAA,OAAA,CACeA,MADf;UAGXsF,SAAAA,GAAAA,KAAAA,CAAJ;cACQgD,MAAAA,CAAOD,IAAPC,CAAAA,CAAaC,WAAbD,EAAR;aACO,OAAL;sBACc,KAAA,CAAA,aAAA,CAAC,KAAD,EAAA;YAAO,GAAA,EAAKtL,GAAZ;YAAiB,EAAA,EAAI9B,EAArB;YAAyB,KAAA,EAAzB;UAAA,CAAA,CAAZ;;aAEG,MAAL;sBACc,KAAA,CAAA,aAAA,CAAC,IAAD,EAAA;YAAM,GAAA,EAAK8B,GAAX;YAAgB,EAAA,EAAI9B,EAApB;YAAwB,KAAA,EAAxB;UAAA,CAAA,CAAZ;;aAEG,OAAL;sBACc,KAAA,CAAA,aAAA,CAAC,KAAD,EAAA;YAAO,GAAA,EAAK8B,GAAZ;YAAiB,EAAA,EAAI9B,EAArB;YAAyB,KAAA,EAAzB;UAAA,CAAA,CAAZ;;aAEG,OAAL;sBACc,KAAA,CAAA,aAAA,CAAC,KAAD,EAAA;YAAO,GAAA,EAAK8B,GAAZ;YAAiB,EAAA,EAAI9B,EAArB;YAAyB,KAAA,EAAzB;UAAA,CAAA,CAAZ;;aAEG,QAAL;sBACc,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;YAAQ,GAAA,EAAK8B,GAAb;YAAkB,EAAA,EAAI9B,EAAtB;YAA0B,KAAA,EAA1B;UAAA,CAAA,CAAZ;;aAEG,QAAL;sBACc,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;YAAQ,GAAA,EAAK8B,GAAb;YAAkB,EAAA,EAAI9B,EAAtB;YAA0B,KAAA,EAA1B;UAAA,CAAA,CAAZ;;aAEG,SAAL;sBACc,KAAA,CAAA,aAAA,CAAC,OAAD,EAAA;YAAS,GAAA,EAAK8B,GAAd;YAAmB,EAAA,EAAI9B,EAAvB;YAA2B,KAAA,EAA3B;UAAA,CAAA,CAAZ;;aAEG,QAAL;sBACc,KAAA,CAAA,aAAA,CAAC,MAAD,EAAA;YAAQ,GAAA,EAAK8B,GAAb;YAAkB,EAAA,EAAI9B,EAAtB;YAA0B,KAAA,EAA1B;UAAA,CAAA,CAAZ;;aAEG,SAAL;sBACc,KAAA,CAAA,aAAA,CAAC,OAAD,EAAA;YAAS,GAAA,EAAK8B,GAAd;YAAmB,EAAA,EAAI9B,EAAvB;YAA2B,KAAA,EAA3B;UAAA,CAAA,CAAZ;;aAEG,UAAL;sBACc,KAAA,CAAA,aAAA,CAAC,QAAD,EAAA;YAAU,GAAA,EAAK8B,GAAf;YAAoB,EAAA,EAAI9B,EAAxB;YAA4B,KAAA,EAA5B;UAAA,CAAA,CAAZ;;aAEG,QAAL;sBACc,KAAA,CAAA,aAAA,CAACsN,OAAD,EAAA;YAAQ,EAAA,EAAItN,EAAZ;YAAgB,MAAA,EAAhB;UAAA,CAAA,CAAZ;;aAEG,QAAL;sBACc,IAAA,CAAKuN,SAAL,CAAezL,GAAf,CAAZ;;;sBAIY,KAAA,CAAA,aAAA,CAAC,KAAD,EAAA;YAAO,GAAA,EAAKA,GAAZ;YAAiB,EAAA,EAAI9B,EAArB;YAAyB,KAAA,EAAzB;UAAA,CAAA,CAAZ;;;aAIGoK,SAAP;;;;6BAGO;UACDA,SAAAA,GAAY,IAAA,CAAKoD,cAAL,EAAlB;aACO,KAAA,CAAA,aAAA,C,KAAA,CAAO,QAAP,E,gBAAP;;;;EA/EqCvP,SAAAA,CAAAA","sourcesContent":["// Code source from here, thanks author\n// https://github.com/drawcall/Proton/blob/gh-pages/source/src/utils/Rand.js\nclass Rand {\n\n  constructor() {\n      this.list = [];\n  }\n\n  set(probability, target) {\n      this.list.push({\n          probability,\n          target,\n          a: 0,\n          b: 1\n      });\n\n      this.calculation();\n  }\n\n  calculation() {\n      let total = 0;\n      for (let i = 0; i < this.list.length; i++) {\n          total += this.list[i].probability;\n      }\n\n      for (let i = 0; i < this.list.length; i++) {\n          const obj = this.list[i];\n          const val = obj.probability / total;\n\n          obj.a = i === 0 ? 0 : this.list[i - 1].b;\n          obj.b = obj.a + val;\n      }\n  }\n\n  getResult() {\n      const val = Math.random();\n      for (let i = 0; i < this.list.length; i++) {\n          const obj = this.list[i];\n\n          if (val <= obj.b && val > obj.a) {\n              return obj.target;\n          }\n      }\n\n      return this.list[0].target;\n  }\n};\n\nexport default Rand;\n","import React from \"react\";\nimport RAFManager from \"raf-manager\";\nexport default class Canvas extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._iid = 0;\n    this._oid = 0;\n    this.size = { width: 0, height: 0 };\n    this.canvasRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this._oid = setTimeout(() => {\n      this.initCanvas();\n      this.resize = this.resize.bind(this);\n      window.addEventListener(\"resize\", this.resize);\n    }, 100);\n\n    const canvas = this.getCanvas();\n    this.props.onCanvasDidMount && this.props.onCanvasDidMount(canvas);\n  }\n\n  initCanvas() {\n    const canvas = this.getCanvas();\n\n    if (this.props.globalCompositeOperation) {\n      const context = canvas.getContext(\"2d\");\n      context.globalCompositeOperation = this.props.globalCompositeOperation;\n    }\n\n    const { width, height } = this.setCanvasSize(canvas);\n    this.heartbeatDetectionCanvasSize(canvas);\n    this.props.onCanvasInited(canvas, width, height);\n  }\n\n  getCanvas(){\n    const canvas = this.canvasRef.current;\n    return canvas;\n  }\n\n  heartbeatDetectionCanvasSize(canvas) {\n    this._iid = setInterval(() => {\n      if(this.canvasRef.current){\n        const newHeight = this.canvasRef.current.clientHeight;\n        if (newHeight !== this.size.height) {\n          const { width, height } = this.setCanvasSize(canvas);\n          this.props.onResize && this.props.onResize(width, height);\n        }\n      }\n    }, 1000 / 10);\n  }\n\n  componentWillUnmount() {\n    try{\n      window.removeEventListener(\"resize\", this.resize);\n      clearInterval(this._iid);\n      clearTimeout(this._oid);\n    }catch(e){\n    }\n  }\n\n  resize() {\n    const canvas = this.getCanvas();\n    const { width, height } = this.setCanvasSize(canvas);\n    this.props.onResize && this.props.onResize(width, height);\n  }\n\n  setCanvasSize(canvas) {\n    const width = this.canvasRef.current.clientWidth;\n    const height = this.canvasRef.current.clientHeight;\n\n    this.size.width = width;\n    this.size.height = height;\n    canvas.width = width;\n    canvas.height = height;\n    return { width, height };\n  }\n\n  handleWaypointEnter() {\n    RAFManager.start();\n  }\n\n  handleWaypointLeave() {\n    RAFManager.stop();\n  }\n\n  getStyle() {\n    const { bg } = this.props;\n    let style = { width: \"100%\", height: \"100%\" };\n\n    if (bg === true) {\n      style = Object.assign(style, {\n        position: \"absolute\",\n        zIndex: -1,\n        top: 0,\n        left: 0\n      });\n    } else if(bg && typeof bg === \"object\") {\n      style = Object.assign(style, bg);\n    }\n\n    return style;\n  }\n\n  handleMouseDown(e) {\n    this.props.onMouseDown && this.props.onMouseDown(e);\n  }\n\n  render() {\n    return (\n      <canvas className=\"particles-bg-canvas-self\"\n        ref={this.canvasRef}\n        onMouseDown={this.handleMouseDown.bind(this)}\n        style={this.getStyle()}\n      />\n    );\n  }\n}\n","\nfunction hexToRgb(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n    } : {};\n}\n\nfunction getColor(color, a) {\n    let c;\n    if (color) {\n        c = hexToRgb(color);\n        return `rgba(${c.r},${c.g},${c.b}, ${a})`;\n    } else {\n        return null;\n    }\n}\n\n\nexport { hexToRgb, getColor };","import React from \"react\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport Canvas from \"./Canvas.jsx\";\nimport { getColor } from \"../utils/Color\";\n\nexport default class Ball extends React.Component {\n  constructor(props) {\n    super(props);\n    this.renderProton = this.renderProton.bind(this);\n  }\n\n  onCanvasInited(canvas, width, height) {\n    this.createProton(canvas, width, height);\n    this.createMiniEmitter(canvas);\n    RAFManager.add(this.renderProton);\n  }\n\n  componentWillUnmount() {\n    try {\n      RAFManager.remove(this.renderProton);\n      this.proton.destroy();\n    } catch (e) { }\n  }\n\n  onResize() { }\n\n  createProton(canvas, width, height) {\n    const context = canvas.getContext(\"2d\");\n    this.proton = new Proton();\n\n    const emitter = new Proton.Emitter();\n    emitter.rate = new Proton.Rate(\n      this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(4, 9),\n      new Proton.Span(0.8, 1.3)\n    );\n\n    emitter.addInitialize(new Proton.Mass(1));\n    emitter.addInitialize(new Proton.Radius(1, 50));\n    emitter.addInitialize(new Proton.Life(5, 6));\n    emitter.addInitialize(\n      new Proton.Velocity(\n        new Proton.Span(5, 8),\n        new Proton.Span(30, 70),\n        \"polar\"\n      )\n    );\n\n    emitter.addBehaviour(new Proton.Alpha(1, 0));\n    emitter.addBehaviour(\n      new Proton.Color([\"#36aaf3\", \"#fd769c\", \"#94ff22\", \"#ffa545\", \"#ffffff\"])\n    );\n    emitter.addBehaviour(new Proton.Scale(0.7, 1));\n    emitter.addBehaviour(new Proton.Gravity(3));\n    emitter.addBehaviour(new Proton.Collision(emitter));\n    emitter.addBehaviour(this.customDeadBehaviour(canvas));\n    emitter.addBehaviour(\n      new Proton.CrossZone(\n        new Proton.RectZone(0, 0, canvas.width, canvas.height),\n        \"bound\"\n      )\n    );\n\n    emitter.p.x = Math.min(500, Math.max(canvas.width / 2 - 400, 50));\n    emitter.p.y = canvas.height / 2 + 50;\n    emitter.emit();\n    this.proton.addEmitter(emitter);\n\n    const renderer = new Proton.CanvasRenderer(canvas);\n    renderer.onProtonUpdate =  ()=> {\n      context.fillStyle = getColor(this.props.color, 0.2) || \"rgba(255, 255, 255, 0.2)\";\n      context.fillRect(0, 0, canvas.width, canvas.height);\n    };\n    this.proton.addRenderer(renderer);\n  }\n\n  customDeadBehaviour(canvas) {\n    return {\n      initialize: function (particle) { },\n      applyBehaviour: particle => {\n        if (particle.p.y + particle.radius >= canvas.height) {\n          if (particle.radius > 9) {\n            this.miniEmitteing(particle);\n            particle.dead = true;\n          }\n        }\n      }\n    };\n  }\n\n  createMiniEmitter(canvas) {\n    const miniEmitter = new Proton.Emitter();\n    miniEmitter.rate = new Proton.Rate(\n      new Proton.Span(3, 6),\n      new Proton.Span(1, 2)\n    );\n\n    miniEmitter.addInitialize(new Proton.Mass(1));\n    miniEmitter.radiusInitialize = new Proton.Radius();\n    miniEmitter.addInitialize(miniEmitter.radiusInitialize);\n    miniEmitter.addInitialize(new Proton.Life(0.5, 1));\n    miniEmitter.addInitialize(\n      new Proton.V(\n        new Proton.Span(1.5, 3),\n        new Proton.Span(0, 70, true),\n        \"polar\"\n      )\n    );\n\n    miniEmitter.colorBehaviour = new Proton.Color(\"#ffffff\");\n    miniEmitter.addBehaviour(new Proton.Alpha(1, 0));\n    miniEmitter.addBehaviour(miniEmitter.colorBehaviour);\n    miniEmitter.addBehaviour(new Proton.Gravity(4));\n    miniEmitter.addBehaviour(new Proton.Collision(miniEmitter));\n    miniEmitter.addBehaviour(\n      new Proton.CrossZone(\n        new Proton.RectZone(0, 0, canvas.width, canvas.height),\n        \"bound\"\n      )\n    );\n    this.proton.addEmitter(miniEmitter);\n\n    this.miniEmitter = miniEmitter;\n  }\n\n  miniEmitteing(particle) {\n    const miniEmitter = this.miniEmitter;\n    miniEmitter.radiusInitialize.reset(\n      particle.radius * 0.05,\n      particle.radius * 0.2\n    );\n    miniEmitter.colorBehaviour.reset(particle.color);\n    miniEmitter.p.x = particle.p.x;\n    miniEmitter.p.y = particle.p.y;\n    miniEmitter.emit(\"once\");\n  }\n\n  renderProton() {\n    this.proton && this.proton.update();\n  }\n\n  render() {\n    return (\n      <Canvas bg={this.props.bg}\n        globalCompositeOperation=\"darker\"\n        onCanvasInited={this.onCanvasInited.bind(this)}\n        onResize={this.onResize.bind(this)}\n      />\n    );\n  }\n}\n","import React from \"react\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport Canvas from \"./Canvas.jsx\";\n\nexport default class Color extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.colors = [\n      \"#529B88\",\n      \"#CDD180\",\n      \"#FFFA32\",\n      \"#FB6255\",\n      \"#FB4A53\",\n      \"#FF4E50\",\n      \"#F9D423\"\n    ];\n    this.renderProton = this.renderProton.bind(this);\n  }\n\n  componentWillUnmount() {\n    try {\n      RAFManager.remove(this.renderProton);\n      this.proton.destroy();\n    } catch (e) {}\n  }\n\n  onCanvasInited(canvas, width, height) {\n    this.createProton(canvas, width, height);\n    RAFManager.add(this.renderProton);\n  }\n\n  onResize() {}\n\n  createProton(canvas, width, height) {\n    this.proton = new Proton();\n    const emitter = new Proton.Emitter();\n    emitter.rate = new Proton.Rate(\n      this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(5, 8),\n      new Proton.Span(0.1, 0.25)\n    );\n\n    emitter.addInitialize(new Proton.Mass(1));\n    emitter.addInitialize(new Proton.Radius(20, 200));\n    emitter.addInitialize(new Proton.Life(2, 4));\n    emitter.addInitialize(\n      new Proton.Position(new Proton.RectZone(0, 0, width, height))\n    );\n\n    emitter.addBehaviour(new Proton.Alpha(0, 1, Infinity, Proton.easeOutCubic));\n    emitter.addBehaviour(new Proton.Scale(1, 0, Infinity, Proton.easeOutCubic));\n    emitter.addBehaviour(new Proton.Color(this.colors, \"random\"));\n\n    emitter.emit();\n    this.proton.addEmitter(emitter);\n\n    const renderer = new Proton.CanvasRenderer(canvas);\n    this.proton.addRenderer(renderer);\n  }\n\n  renderProton() {\n    this.proton && this.proton.update();\n  }\n\n  render() {\n    return (\n      <Canvas bg={this.props.bg}\n        globalCompositeOperation=\"darker\"\n        onCanvasInited={this.onCanvasInited.bind(this)}\n        onResize={this.onResize.bind(this)}\n      />\n    );\n  }\n}\n","import React from \"react\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport Canvas from \"./Canvas.jsx\";\n\nexport default class Color extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.colors = [\n            \"#529B88\",\n            \"#CDD180\",\n            \"#FFFA32\",\n            \"#FB6255\",\n            \"#FB4A53\",\n            \"#FF4E50\",\n            \"#F9D423\"\n        ];\n        this.renderProton = this.renderProton.bind(this);\n    }\n\n    componentWillUnmount() {\n        try {\n            RAFManager.remove(this.renderProton);\n            this.proton.destroy();\n        } catch (e) { }\n    }\n\n    onCanvasInited(canvas, width, height) {\n        this.createProton(canvas, width, height);\n        RAFManager.add(this.renderProton);\n    }\n\n    onResize(width, height) {\n        this.crossZoneBehaviour.zone.width = width;\n        this.crossZoneBehaviour.zone.height = height;\n        this.proton.renderers[0].resize(width, height);;\n    }\n\n    getProp(key, defaultVal) {\n        const config = this.props.config || {};\n        const val = config[key] || defaultVal;\n        if (Array.isArray(val)) {\n            return new Proton.Span(val[0], val[1]);\n        } else {\n            return val;\n        }\n    }\n\n    getArrProp(key, defaultVal) {\n        const config = this.props.config || {};\n        const val = config[key] || defaultVal;\n        if (!val) return null;\n\n        if (Array.isArray(val)) {\n            return val;\n        } else {\n            return [val, val];\n        }\n    }\n\n    createProton(canvas, width, height) {\n        const num = this.getProp(\"num\", [5, 8]);\n        const rps = this.getProp(\"rps\", [0.1, 0.2]);\n        const mass = this.getProp(\"mass\", 1);\n        const radius = this.getProp(\"radius\", [10, 30]);\n        const life = this.getProp(\"life\", [2, 3]);\n        const body = this.getProp(\"body\");\n        const position = this.getProp(\"position\");\n        const v = this.getProp(\"v\", [2, 3]);\n        const tha = this.getProp(\"tha\", [-15, 15]);\n        const alpha = this.getArrProp(\"alpha\");\n        const scale = this.getArrProp(\"scale\");\n        const color = this.getArrProp(\"color\");\n        const cross = this.getProp(\"cross\", \"dead\");\n        const random = this.getProp(\"random\");\n        const rotate = this.getArrProp(\"rotate\");\n        const g = this.getProp(\"g\");\n        const f = this.getArrProp(\"f\");\n        const emitterV = this.getProp(\"emitter\");\n\n        this.proton = new Proton();\n        let emitter;\n        if (emitterV === \"follow\") {\n            emitter = new Proton.FollowEmitter();\n        } else {\n            emitter = new Proton.Emitter();\n        }\n        emitter.rate = new Proton.Rate(num, rps);\n\n        emitter.addInitialize(new Proton.Mass(mass));\n        emitter.addInitialize(new Proton.Radius(radius));\n        emitter.addInitialize(new Proton.Life(life));\n        emitter.addInitialize(new Proton.Velocity(v, tha, \"polar\"));\n        if (body) emitter.addInitialize(new Proton.Body(body));\n\n        let pos;\n        if (position === \"all\" || position === \"screen\") {\n            pos = new Proton.Position(new Proton.RectZone(0, 0, canvas.width, canvas.height))\n        } else if (typeof position === \"object\") {\n            pos = new Proton.Position(new Proton.RectZone(position.x, position.y, position.width, position.height))\n        } else {\n            emitter.p.x = canvas.width / 2;\n            emitter.p.y = canvas.height / 2;\n        }\n\n        emitter.addInitialize(pos);\n\n        /// behaviour\n        const alphaB = alpha ? new Proton.Alpha(alpha[0], alpha[1]) : new Proton.Alpha(0, 1);\n        const scaleB = scale ? new Proton.Scale(scale[0], scale[1]) : new Proton.Scale(1, 0.2);\n        const colorB = color ? new Proton.Color(color[0], color[1]) : new Proton.Color(this.colors);\n\n        emitter.addBehaviour(alphaB);\n        emitter.addBehaviour(scaleB);\n        if(!body) emitter.addBehaviour(colorB);\n\n        if(rotate){\n            if(rotate[0]===true||rotate[0]===\"rotate\"){\n                emitter.addBehaviour(new Proton.Rotate());\n            }else{\n                emitter.addBehaviour(new Proton.Rotate(rotate[0], rotate[1]));\n            }\n        }\n\n        const zone = new Proton.RectZone(0, 0, canvas.width, canvas.height)\n        const crossZoneBehaviour = new Proton.CrossZone(zone, cross);\n        emitter.addBehaviour(crossZoneBehaviour);\n\n        random && emitter.addBehaviour(new Proton.RandomDrift(random, random, 0.05));\n        g && emitter.addBehaviour(new Proton.G(g));\n        f && emitter.addBehaviour(new Proton.F(f[0], f[1]));\n\n        emitter.emit();\n        this.proton.addEmitter(emitter);\n\n        const renderer = this.createRenderer(canvas);\n        this.proton.addRenderer(renderer);\n\n        this.emitter = emitter;\n        this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n\n    createRenderer(canvas) {\n        const width = canvas.width;\n        const height = canvas.height;\n        const context = canvas.getContext(\"2d\");\n        const renderer = new Proton.CanvasRenderer(canvas);\n\n        const onUpdate = this.getProp(\"onUpdate\");\n        if (onUpdate) {\n            renderer.onProtonUpdate = () => {\n                onUpdate(context, width, height);\n            };\n        }\n\n        const onParticleCreated = this.getProp(\"onParticleCreated\");\n        if (onParticleCreated) {\n            renderer.onParticleCreated = (particle) => {\n                onParticleCreated(context, particle);\n            };\n        }\n\n        const onParticleUpdate = this.getProp(\"onParticleUpdate\");\n        if (onParticleUpdate) {\n            renderer.onParticleUpdate = (particle) => {\n                onParticleUpdate(context, particle);\n            };\n        }\n\n        return renderer;\n    }\n\n    renderProton() {\n        this.proton && this.proton.update();\n    }\n\n    handleMouseDown(e) {\n        const onMouseDown = this.getProp(\"onMouseDown\");\n        if (onMouseDown) {\n            onMouseDown(e);\n        }\n    }\n\n    render() {\n        const globalCompositeOperation = this.props.globalCompositeOperation || this.props.operation || \"source-over\";\n\n        return (\n            <Canvas\n                bg={this.props.bg}\n                onMouseDown={this.handleMouseDown.bind(this)}\n                globalCompositeOperation={globalCompositeOperation}\n                onCanvasInited={this.onCanvasInited.bind(this)}\n                onResize={this.onResize.bind(this)}\n            />\n        );\n    }\n}\n","import React from \"react\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport Canvas from \"./Canvas.jsx\";\nimport { getColor } from \"../utils/Color\";\n\nexport default class Lines extends React.Component {\n  constructor(props) {\n    super(props);\n    this.renderProton = this.renderProton.bind(this);\n  }\n\n  onCanvasDidMount(canvas){\n    if(this.props.color){\n      canvas.style.backgroundColor = this.props.color;\n    }\n  }\n\n  componentWillUnmount() {\n    try {\n      RAFManager.remove(this.renderProton);\n      this.proton.destroy();\n    } catch (e) { }\n  }\n\n  onCanvasInited(canvas, width, height) {\n    this.createProton(canvas, width, height);\n    RAFManager.add(this.renderProton);\n  }\n\n  onResize(width, height) {\n    this.crossZoneBehaviour.zone.width = width;\n    this.crossZoneBehaviour.zone.height = height;\n    this.proton.renderers[0].resize(width, height);\n  }\n\n  createProton(canvas, width, height) {\n    this.proton = new Proton();\n\n    const emitter = new Proton.Emitter();\n    emitter.damping = 0.008;\n    emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 250);\n    emitter.addInitialize(new Proton.Mass(1));\n    emitter.addInitialize(new Proton.Radius(4));\n    emitter.addInitialize(\n      new Proton.Velocity(\n        new Proton.Span(1.5),\n        new Proton.Span(0, 360),\n        \"polar\"\n      )\n    );\n    const mouseObj = {\n      x: width / 2,\n      y: height / 2\n    };\n\n    const attractionBehaviour = new Proton.Attraction(mouseObj, 0, 0);\n    const crossZoneBehaviour = new Proton.CrossZone(\n      new Proton.RectZone(0, 0, canvas.width, canvas.height),\n      \"cross\"\n    );\n    emitter.addBehaviour(new Proton.Color(\"random\"));\n    emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n    emitter.addBehaviour(new Proton.RandomDrift(10, 10, 0.05));\n    emitter.p.x = canvas.width / 2;\n    emitter.p.y = canvas.height / 2;\n    emitter.emit(\"once\");\n\n    this.proton.addEmitter(emitter);\n    this.proton.addRenderer(this.createRenderer(canvas));\n    this.crossZoneBehaviour = crossZoneBehaviour;\n  }\n\n  createRenderer(canvas) {\n    const context = canvas.getContext(\"2d\");\n    const renderer = new Proton.CanvasRenderer(canvas);\n    renderer.onProtonUpdate = () => {\n      context.fillStyle = getColor(this.props.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n      context.fillRect(0, 0, canvas.width, canvas.height);\n    };\n\n    renderer.onParticleUpdate = function (particle) {\n      context.beginPath();\n      context.strokeStyle = particle.color;\n      context.lineWidth = 1;\n      context.moveTo(particle.old.p.x, particle.old.p.y);\n      context.lineTo(particle.p.x, particle.p.y);\n      context.closePath();\n      context.stroke();\n    };\n\n    return renderer;\n  }\n\n  renderProton() {\n    this.proton && this.proton.update();\n  }\n\n  render() {\n    return (\n      <Canvas bg={this.props.bg}\n        globalCompositeOperation=\"darker\"\n        onCanvasDidMount={this.onCanvasDidMount.bind(this)}\n        onCanvasInited={this.onCanvasInited.bind(this)}\n        onResize={this.onResize.bind(this)}\n      />\n    );\n  }\n}\n","import React from \"react\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport Canvas from \"./Canvas.jsx\";\nimport { getColor } from \"../utils/Color\";\n\nexport default class Thick extends React.Component {\n  constructor(props) {\n    super(props);\n    this.hue = 0;\n    this.index = 0;\n    this.colorTemplate = `hsla(hue,80%,50%, 0.75)`;\n    this.renderProton = this.renderProton.bind(this);\n  }\n\n  onCanvasDidMount(canvas){\n    if(this.props.color){\n      canvas.style.backgroundColor = this.props.color;\n    }\n  }\n\n  onCanvasInited(canvas, width, height) {\n    this.canvas = canvas;\n    this.createProton(canvas, width, height);\n    RAFManager.add(this.renderProton);\n  }\n\n  onResize(width, height) {\n    this.crossZoneBehaviour.zone.width = width;\n    this.crossZoneBehaviour.zone.height = height;\n    this.proton.renderers[0].resize(width, height);\n  }\n\n  createProton(canvas, width, height) {\n    this.proton = new Proton();\n\n    const emitter = new Proton.Emitter();\n    emitter.damping = 0.008;\n    emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 150);\n\n    // Initialize\n    emitter.addInitialize(new Proton.Mass(1));\n    emitter.addInitialize(new Proton.Radius(8));\n    emitter.addInitialize(\n      new Proton.V(new Proton.Span(0.1, 0.5), new Proton.Span(0, 360), \"polar\")\n    );\n    emitter.addInitialize(\n      new Proton.Position(\n        new Proton.CircleZone(canvas.width / 2, canvas.height / 2, 100)\n      )\n    );\n\n    // Behaviour\n    const crossZoneBehaviour = new Proton.CrossZone(\n      new Proton.RectZone(0, 0, canvas.width, canvas.height),\n      \"cross\"\n    );\n    emitter.addBehaviour(crossZoneBehaviour);\n    this.repulsion = new Proton.Repulsion(\n      {\n        x: canvas.width / 2,\n        y: canvas.height / 2 - 100\n      },\n      3,\n      300\n    );\n\n    this.attraction = new Proton.Attraction(\n      {\n        x: canvas.width / 2,\n        y: canvas.height / 2\n      },\n      3,\n      200\n    );\n    emitter.addBehaviour(this.attraction, this.repulsion);\n    emitter.addBehaviour(new Proton.Color(\"random\"));\n    emitter.addBehaviour(new Proton.RandomDrift(20, 15, 0.15));\n\n    emitter.emit(\"once\");\n    this.proton.addEmitter(emitter);\n    this.proton.addRenderer(this.createRenderer(canvas));\n    this.crossZoneBehaviour = crossZoneBehaviour;\n  }\n\n  createRenderer(canvas) {\n    const context = canvas.getContext(\"2d\");\n    const renderer = new Proton.CanvasRenderer(canvas);\n\n    renderer.onProtonUpdate = () => {\n      this.hue += 1;\n      context.fillStyle = getColor(this.props.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n      context.fillRect(0, 0, canvas.width, canvas.height);\n    };\n\n    renderer.onParticleCreated = particle => {\n      particle.data.begin = Proton.MathUtil.randomAToB(1, 120);\n      particle.data.tha = Proton.MathUtil.randomAToB(0, Math.PI * 2);\n    };\n\n    renderer.onParticleUpdate = particle => {\n      const hue = particle.data.begin + this.hue;\n      particle.color = this.colorTemplate.replace(\"hue\", hue % 360);\n\n      const ratio = 3 / 4;\n      const radius =\n        particle.radius * (1 - ratio) * Math.cos((particle.data.tha += 0.01)) +\n        particle.radius * ratio;\n\n      context.beginPath();\n      context.fillStyle = particle.color;\n      context.arc(particle.p.x, particle.p.y, radius, 0, Math.PI * 2, true);\n      context.closePath();\n      context.fill();\n    };\n\n    return renderer;\n  }\n\n  componentWillUnmount() {\n    try {\n      RAFManager.remove(this.renderProton);\n      this.proton.destroy();\n    } catch (e) {}\n  }\n\n  renderProton() {\n    const canvas = this.canvas;\n    this.proton.update();\n    if (this.index % 200 === 0) {\n      this.attraction.targetPosition.x = Math.random() * canvas.width;\n      this.attraction.targetPosition.y = Math.random() * canvas.height;\n\n      this.repulsion.targetPosition.x = Math.random() * canvas.width;\n      this.repulsion.targetPosition.y = Math.random() * canvas.height;\n    }\n\n    this.index++;\n  }\n\n  render() {\n    return (\n      <Canvas bg={this.props.bg}\n        onCanvasDidMount={this.onCanvasDidMount.bind(this)}\n        onCanvasInited={this.onCanvasInited.bind(this)}\n        onResize={this.onResize.bind(this)}\n      />\n    );\n  }\n}\n","import React from \"react\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport Canvas from \"./Canvas.jsx\";\n\nexport default class Square extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.colors = [\n      \"#fad390\",\n      \"#81ecec\",\n      \"#ffffff\",\n      \"#badc58\",\n      \"#f9ca24\",\n      \"#FEA47F\"\n    ];\n    this.renderProton = this.renderProton.bind(this);\n  }\n\n  componentWillUnmount() {\n    try {\n      RAFManager.remove(this.renderProton);\n      this.proton.destroy();\n    } catch (e) {}\n  }\n\n  onCanvasDidMount(canvas) {\n    \n  }\n\n  onCanvasInited(canvas, width, height) {\n    this.createProton(canvas, width, height);\n    RAFManager.add(this.renderProton);\n  }\n\n  onResize(width, height) {\n    const dis = 150;\n    this.crossZoneBehaviour.zone.width = width + 2 * dis;\n    this.crossZoneBehaviour.zone.height = height + 2 * dis;\n    this.proton.renderers[0].resize(width, height);\n  }\n\n  createProton(canvas, width, height) {\n    this.proton = new Proton();\n    const emitter = new Proton.Emitter();\n    emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 50);\n    emitter.damping = 0;\n\n    emitter.addInitialize(new Proton.Mass(1));\n    emitter.addInitialize(new Proton.Radius(4, 70));\n    emitter.addInitialize(\n      new Proton.Velocity(new Proton.Span(2, 10), new Proton.Span(0), \"polar\")\n    );\n    emitter.addInitialize(\n      new Proton.Position(\n        new Proton.LineZone(0, canvas.height, canvas.width, canvas.height)\n      )\n    );\n\n    const dis = 150;\n    const crossZoneBehaviour = new Proton.CrossZone(\n      new Proton.RectZone(\n        0 - dis,\n        0 - dis,\n        canvas.width + 2 * dis,\n        canvas.height + 2 * dis\n      ),\n      \"cross\"\n    );\n    emitter.addBehaviour(crossZoneBehaviour);\n    emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.1, 0.55)));\n    emitter.addBehaviour(new Proton.Color(this.colors));\n\n    emitter.emit(\"once\");\n    this.proton.addEmitter(emitter);\n    const renderer = this.createRenderer(canvas);\n    this.proton.addRenderer(renderer);\n\n    this.crossZoneBehaviour = crossZoneBehaviour;\n    emitter.preEmit(2);\n  }\n\n  createRenderer(canvas) {\n    const context = canvas.getContext(\"2d\");\n    const renderer = new Proton.CustomRenderer();\n\n    renderer.onProtonUpdate = () => {\n      context.clearRect(0, 0, canvas.width, canvas.height);\n    };\n\n    renderer.onParticleCreated = particle => {\n      const w = particle.radius || 60;\n      const h = Proton.MathUtil.randomAToB(100, 200, \"int\");\n      particle.data.w = w;\n      particle.data.h = h;\n    };\n\n    renderer.onParticleUpdate = particle => {\n      const w = particle.data.w;\n      const h = particle.data.h;\n      context.save();\n      context.globalAlpha = particle.alpha;\n      context.fillStyle = particle.color;\n\n      context.translate(particle.p.x, particle.p.y);\n      context.rotate(Proton.MathUtil.degreeTransform(particle.rotation));\n      context.translate(-particle.p.x, -particle.p.y);\n\n      context.beginPath();\n      context.rect(particle.p.x - w / 2, particle.p.y - h / 2, w, h);\n\n      context.closePath();\n      context.fill();\n      context.globalAlpha = 1;\n      context.restore();\n    };\n\n    return renderer;\n  }\n\n  renderProton() {\n    this.proton && this.proton.update();\n  }\n\n  render() {\n    return (\n      <Canvas bg={this.props.bg}\n        globalCompositeOperation=\"lighter\"\n        onCanvasDidMount={this.onCanvasDidMount.bind(this)}\n        onCanvasInited={this.onCanvasInited.bind(this)}\n        onResize={this.onResize.bind(this)}\n      />\n    );\n  }\n}\n","import React from \"react\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport Canvas from \"./Canvas.jsx\";\nimport { getColor } from \"../utils/Color\";\n\nexport default class Cobweb extends React.Component {\n  constructor(props) {\n    super(props);\n    this.renderProton = this.renderProton.bind(this);\n  }\n\n  onCanvasInited(canvas, width, height) {\n    this.createProton(canvas, width, height);\n    RAFManager.add(this.renderProton);\n  }\n\n  componentWillUnmount() {\n    try {\n      RAFManager.remove(this.renderProton);\n      this.proton.destroy();\n    } catch (e) {}\n  }\n\n  onResize(width, height) {\n    this.crossZoneBehaviour.zone.width = width;\n    this.crossZoneBehaviour.zone.height = height;\n    this.proton.renderers[0].resize(width, height);\n  }\n\n  createProton(canvas, width, height) {\n    this.proton = new Proton();\n\n    const emitter = new Proton.Emitter();\n    emitter.rate = new Proton.Rate(\n      this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(100),\n      new Proton.Span(0.05, 0.2)\n    );\n\n    emitter.addInitialize(new Proton.Mass(1));\n    emitter.addInitialize(new Proton.Radius(1, 4));\n    emitter.addInitialize(new Proton.Life(Infinity));\n\n    const pointZone = new Proton.Position(\n      new Proton.RectZone(0, 0, width, height)\n    );\n    emitter.addInitialize(pointZone);\n    emitter.addInitialize(\n      new Proton.Velocity(\n        new Proton.Span(0.3, 0.6),\n        new Proton.Span(0, 360),\n        \"polar\"\n      )\n    );\n\n    emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.2, 0.9)));\n    emitter.addBehaviour(new Proton.Color(this.props.color || \"#333\"));\n    this.crossZoneBehaviour = new Proton.CrossZone(\n      new Proton.RectZone(0, 0, width, height),\n      \"cross\"\n    );\n    emitter.addBehaviour(this.crossZoneBehaviour);\n\n    emitter.emit(\"once\");\n    emitter.damping = 0;\n    this.proton.addEmitter(emitter);\n    this.proton.addRenderer(this.createRenderer(canvas, emitter));\n  }\n\n  createRenderer(canvas, emitter) {\n    const context = canvas.getContext(\"2d\");\n    const renderer = new Proton.CanvasRenderer(canvas);\n    const R = 140;\n\n    renderer.onProtonUpdateAfter = ()=> {\n      let particles = emitter.particles;\n\n      for (let i = 0; i < particles.length; i++) {\n        for (let j = i + 1; j < particles.length; j++) {\n          let pA = particles[i];\n          let pB = particles[j];\n          let dis = pA.p.distanceTo(pB.p);\n\n          if (dis < R) {\n            let alpha = (1 - dis / R) * 0.5;\n            context.strokeStyle = getColor(this.props.color, alpha) || `rgba(3, 3, 3, ${alpha})`;\n            context.beginPath();\n            context.moveTo(pA.p.x, pA.p.y);\n            context.lineTo(pB.p.x, pB.p.y);\n            context.closePath();\n            context.stroke();\n          }\n        }\n      }\n    };\n\n    return renderer;\n  }\n\n  renderProton() {\n    this.proton && this.proton.update();\n  }\n\n  render() {\n    return (\n      <Canvas bg={this.props.bg}\n        globalCompositeOperation=\"darker\"\n        onCanvasInited={this.onCanvasInited.bind(this)}\n        onResize={this.onResize.bind(this)}\n      />\n    );\n  }\n}\n","import React from \"react\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport Canvas from \"./Canvas.jsx\";\n\nexport default class Circle extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.colors = [\n      \"#74b9ff\",\n      \"#e84393\",\n      \"#6c5ce7\",\n      \"#00b894\",\n      \"#fdcb6e\",\n      \"#006266\",\n      \"#1B1464\"\n    ];\n\n    this.renderProton = this.renderProton.bind(this);\n  }\n\n  componentWillUnmount() {\n    try {\n      RAFManager.remove(this.renderProton);\n      this.proton.destroy();\n    } catch (e) { }\n  }\n\n  onCanvasInited(canvas, width, height) {\n    this.createProton(canvas, width, height);\n    RAFManager.add(this.renderProton);\n  }\n\n  onResize(width, height) {\n    this.crossZoneBehaviour.zone.width = width;\n    this.crossZoneBehaviour.zone.height = height;\n    this.proton.renderers[0].resize(width, height);\n  }\n\n  createProton(canvas, width, height) {\n    this.proton = new Proton();\n\n    const emitter = new Proton.Emitter();\n    emitter.rate = new Proton.Rate(this.props.num || 20);\n    emitter.damping = 0.008;\n\n    emitter.addInitialize(new Proton.Mass(1));\n    emitter.addInitialize(new Proton.Radius(30, 600));\n    emitter.addInitialize(\n      new Proton.Velocity(\n        new Proton.Span(0.5),\n        new Proton.Span(0, 360),\n        \"polar\"\n      )\n    );\n    emitter.addInitialize(\n      new Proton.Position(\n        new Proton.RectZone(0, 0, canvas.width, canvas.height)\n      )\n    );\n\n    const crossZoneBehaviour = new Proton.CrossZone(\n      new Proton.RectZone(0, 0, canvas.width, canvas.height),\n      \"cross\"\n    );\n    emitter.addBehaviour(crossZoneBehaviour);\n    emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.35, 0.55)));\n    emitter.addBehaviour(new Proton.Color(this.getColor()));\n    emitter.addBehaviour(new Proton.RandomDrift(50, 50, 0.5));\n\n    emitter.emit(\"once\");\n    this.proton.addEmitter(emitter);\n\n    const renderer = new Proton.CanvasRenderer(canvas);\n    this.proton.addRenderer(renderer);\n\n    this.crossZoneBehaviour = crossZoneBehaviour;\n  }\n\n  getColor() {\n    let c = this.colors;\n    if (this.props.color) {\n      if(Array.isArray(this.props.color)){\n        c = this.props.color;\n      }else{\n        c = [this.props.color];\n      }\n    }\n\n    return c;\n  }\n\n  renderProton() {\n    this.proton && this.proton.update();\n  }\n\n  render() {\n    return (\n      <Canvas bg={this.props.bg}\n        globalCompositeOperation=\"darken\"\n        onCanvasInited={this.onCanvasInited.bind(this)}\n        onResize={this.onResize.bind(this)}\n      />\n    );\n  }\n}\n","import React from \"react\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport Canvas from \"./Canvas.jsx\";\n\nexport default class Tadpole extends React.Component {\n  constructor(props) {\n    super(props);\n    this.renderProton = this.renderProton.bind(this);\n  }\n\n  onCanvasDidMount(canvas) {\n\n  }\n\n  onCanvasInited(canvas, width, height) {\n    this.createProton(canvas, width, height);\n    this.renderProton();\n  }\n\n  onResize(width, height) {\n    this.crossZoneBehaviour.zone.width = width;\n    this.crossZoneBehaviour.zone.height = height;\n    this.proton.renderers[0].resize(width, height);\n  }\n\n  createProton(canvas, width, height) {\n    this.proton = new Proton();\n\n    const emitter = new Proton.Emitter();\n    emitter.damping = 0.008;\n    emitter.rate = new Proton.Rate(this.props.num ? this.props.num : 50);\n    emitter.addInitialize(new Proton.Mass(1));\n    emitter.addInitialize(new Proton.Radius(5, 9));\n    emitter.addInitialize(\n      new Proton.Velocity(\n        new Proton.Span(1.5),\n        new Proton.Span(0, 360),\n        \"polar\"\n      )\n    );\n    emitter.addInitialize(\n      new Proton.Position(new Proton.RectZone(0, 0, width, height))\n    );\n\n    const mouseInfo = {\n      x: width / 2,\n      y: height / 2\n    };\n\n    const attractionBehaviour = new Proton.Attraction(mouseInfo, 0, 0);\n    const crossZoneBehaviour = new Proton.CrossZone(\n      new Proton.RectZone(0, 0, canvas.width, canvas.height),\n      \"bound\"\n    );\n    emitter.addBehaviour(new Proton.Color(this.props.color || \"#bbb\"));\n    //emitter.addBehaviour(new Proton.Alpha(new Proton.Span(0.5, 1)));\n    emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n    emitter.addBehaviour(new Proton.RandomDrift(15, 15, 0.05));\n    emitter.emit(\"once\");\n\n    this.proton.addEmitter(emitter);\n    this.proton.addRenderer(this.createRenderer(canvas));\n    this.crossZoneBehaviour = crossZoneBehaviour;\n  }\n\n  createRenderer(canvas) {\n    const jointCount = 10;\n    const delayTime = 8;\n    const context = canvas.getContext(\"2d\");\n    const renderer = new Proton.CanvasRenderer(canvas);\n\n    renderer.onProtonUpdate = function () {\n      context.clearRect(0, 0, canvas.width, canvas.height);\n    };\n\n    renderer.onParticleCreated = particle => {\n      particle.data.points = [];\n      particle.data.index = 0;\n    };\n\n    renderer.onParticleUpdate = function (particle) {\n      drawTadpoleTail(particle);\n      if (particle.data.index % delayTime === 0) fillPointsData(particle);\n      drawTadpoleHead(particle);\n      particle.data.index++;\n    };\n\n    const fillPointsData = particle => {\n      particle.data.points.unshift(particle.p.y);\n      particle.data.points.unshift(particle.p.x);\n\n      if (particle.data.points.length > jointCount) {\n        particle.data.points.pop();\n        particle.data.points.pop();\n      }\n    };\n\n    const drawTadpoleHead = particle => {\n      context.fillStyle = particle.color;\n      context.beginPath();\n      context.arc(\n        particle.p.x,\n        particle.p.y,\n        particle.radius,\n        0,\n        Math.PI * 2,\n        true\n      );\n      context.closePath();\n      context.fill();\n    };\n\n    const drawTadpoleTail = particle => {\n      context.beginPath();\n      context.strokeStyle = particle.color;\n\n      context.moveTo(particle.p.x, particle.p.y);\n\n      const l = particle.data.points.length;\n      for (let i = 0; i < l; i += 2) {\n        const x = particle.data.points[i];\n        const y = particle.data.points[i + 1];\n\n        context.lineWidth = linearEvaluation(i, l);\n        context.lineTo(x, y);\n        context.stroke();\n      }\n    };\n\n    const linearEvaluation = (i, l) => {\n      if (l <= 2) return 1;\n\n      const max = 6;\n      const A = (max - 1) / (2 / l - 1);\n      const B = 1 - A;\n      const X = (i + 2) / l;\n      let val = A * X + B;\n      val = val >> 0;\n\n      return val;\n    };\n\n    return renderer;\n  }\n\n  renderProton() {\n    RAFManager.add(() => {\n      this.proton.update();\n      //this.proton.stats.update();\n    });\n  }\n\n  render() {\n    return (\n      <Canvas bg={this.props.bg}\n        globalCompositeOperation=\"darker\"\n        onCanvasDidMount={this.onCanvasDidMount.bind(this)}\n        onCanvasInited={this.onCanvasInited.bind(this)}\n        onResize={this.onResize.bind(this)}\n      />\n    );\n  }\n}\n","import React from \"react\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport Canvas from \"./Canvas.jsx\";\n\nconst COLOR = [\n  \"#f6b93b\",\n  \"#18dcff\",\n  \"#cd84f1\",\n  \"#ED4C67\",\n  \"#ffffff\",\n  \"#b71540\",\n  \"#32ff7e\",\n  \"#ff3838\"\n];\n\nexport default class Polygon extends React.Component {\n  constructor(props) {\n    super(props);\n    this.renderProton = this.renderProton.bind(this);\n  }\n\n  onCanvasInited(canvas, width, height) {\n    this.createProton(canvas);\n    this.createEmitter({\n      canvas,\n      x: width / 2,\n      y: height / 2,\n      mainEmitter: true,\n      zone: \"bound\"\n    });\n\n    RAFManager.add(this.renderProton);\n  }\n\n  componentWillUnmount() {\n    try {\n      RAFManager.remove(this.renderProton);\n      this.proton.destroy();\n    } catch (e) {}\n  }\n\n  onResize() {}\n\n  createProton(canvas) {\n    this.proton = new Proton();\n    const renderer = this.createRenderer(canvas);\n    this.proton.addRenderer(renderer);\n  }\n\n  createRenderer(canvas) {\n    const context = canvas.getContext(\"2d\");\n    const renderer = new Proton.CustomRenderer();\n\n    renderer.onProtonUpdate = () => {\n      context.clearRect(0, 0, canvas.width, canvas.height);\n    };\n\n    renderer.onParticleCreated = particle => {\n      particle.data.count = Proton.MathUtil.randomAToB(3, 10, true);\n    };\n\n    renderer.onParticleUpdate = particle => {\n      context.save();\n      context.globalAlpha = particle.alpha;\n      context.fillStyle = particle.color;\n\n      context.translate(particle.p.x, particle.p.y);\n      context.rotate(Proton.MathUtil.degreeTransform(particle.rotation));\n      context.translate(-particle.p.x, -particle.p.y);\n\n      context.beginPath();\n      drawPolygon(particle, particle.data.count);\n\n      context.closePath();\n      context.fill();\n      context.globalAlpha = 1;\n      context.restore();\n    };\n\n    renderer.onParticleDead = particle => {};\n\n    const drawPolygon = (particle, count) => {\n      if (count >= 7) {\n        context.arc(\n          particle.p.x,\n          particle.p.y,\n          particle.radius,\n          0,\n          Math.PI * 2,\n          true\n        );\n      } else {\n        const radius = particle.radius;\n\n        for (let i = 0; i <= count; i++) {\n          let x =\n            particle.p.x +\n            radius * Math.cos((((Math.PI / 180) * 360) / count) * i);\n          let y =\n            particle.p.y +\n            radius * Math.sin((((Math.PI / 180) * 360) / count) * i);\n\n          if (i === 0) context.moveTo(x, y);\n          else context.lineTo(x, y);\n        }\n      }\n    };\n\n    return renderer;\n  }\n\n  createEmitter({\n    mainEmitter,\n    canvas,\n    x,\n    y,\n    radius,\n    color = COLOR,\n    zone = \"dead\",\n    once = \"all\",\n    alpha = 0.85,\n    gravity = 3.5\n  }) {\n    const emitter = this.proton.pool.get(Proton.Emitter);\n\n    if (!emitter.completed) {\n      emitter.rate = new Proton.Rate(\n        this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(4, 9),\n        new Proton.Span(1.6, 2.2)\n      );\n\n      const radiusInit = mainEmitter\n        ? new Proton.Radius(10, 110)\n        : new Proton.Radius(3, radius);\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(radiusInit);\n      emitter.addInitialize(new Proton.Life(3, 6));\n      emitter.addInitialize(\n        new Proton.Velocity(\n          new Proton.Span(4, 6),\n          new Proton.Span(-90, 90),\n          \"polar\"\n        )\n      );\n\n      emitter.addBehaviour(new Proton.Alpha(alpha, 0.2));\n      emitter.addBehaviour(new Proton.Color(color));\n      emitter.addBehaviour(new Proton.Scale(1, 0.3));\n      emitter.addBehaviour(new Proton.Rotate());\n      emitter.addBehaviour(new Proton.Gravity(gravity));\n\n      emitter.addBehaviour(this.customDeadBehaviour(canvas));\n      emitter.addBehaviour(\n        new Proton.CrossZone(\n          new Proton.RectZone(0, 0, canvas.width, canvas.height),\n          zone\n        )\n      );\n    }\n\n    emitter.p.x = x;\n    emitter.p.y = y;\n    if (once === \"once\") emitter.emit(\"once\");\n    else emitter.emit();\n\n    this.proton.addEmitter(emitter);\n    //this.expireEmitter(emitter);\n  }\n\n  expireEmitter(emitter) {\n    setTimeout(() => {\n      emitter.completed = true;\n      this.proton.pool.expire(emitter);\n      this.proton.removeEmitter(emitter);\n    }, 500);\n  }\n\n  customDeadBehaviour(canvas) {\n    return {\n      initialize: particle => {\n        particle.data = particle.data || {};\n        particle.data.oldRadius = particle.radius;\n        particle.data.emitterCount = 0;\n      },\n      applyBehaviour: particle => {\n        if (particle.radius < 5) return;\n        if (particle.data.emitterCount >= 2) return;\n\n        if (particle.radius <= (1 / 3) * particle.data.oldRadius) {\n          particle.data.emitterCount++;\n          this.createEmitter({\n            canvas,\n            x: particle.p.x,\n            y: particle.p.y,\n            radius: particle.radius * (1 / 2),\n            alpha: 0.5,\n            gravity: 5,\n            color: particle.color,\n            once: \"once\"\n          });\n        }\n      }\n    };\n  }\n\n  renderProton() {\n    this.proton && this.proton.update();\n  }\n\n  render() {\n    return (\n      <Canvas bg={this.props.bg}\n        globalCompositeOperation=\"darker\"\n        onCanvasInited={this.onCanvasInited.bind(this)}\n        onResize={this.onResize.bind(this)}\n      />\n    );\n  }\n}\n","import React from \"react\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport Canvas from \"./Canvas.jsx\";\n\nexport default class Fountain extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.colors = [\n      \"#529B88\",\n      \"#CDD180\",\n      \"#FFFA32\",\n      \"#FB6255\",\n      \"#FB4A53\",\n      \"#FF4E50\",\n      \"#F9D423\"\n    ];\n    this.renderProton = this.renderProton.bind(this);\n  }\n\n  componentWillUnmount() {\n    try {\n      RAFManager.remove(this.renderProton);\n      this.proton.destroy();\n    } catch (e) {}\n  }\n\n  onCanvasInited(canvas, width, height) {\n    this.createProton(canvas, width, height);\n    RAFManager.add(this.renderProton);\n  }\n\n  onResize() {}\n\n  createProton(canvas, width, height) {\n    this.proton = new Proton();\n    const emitter = new Proton.Emitter();\n    emitter.rate = new Proton.Rate(\n      this.props.num ? new Proton.Span(this.props.num) : new Proton.Span(4, 8),\n      new Proton.Span(0.1, 0.25)\n    );\n\n    emitter.addInitialize(new Proton.Mass(1));\n    emitter.addInitialize(new Proton.Radius(20, 200));\n    emitter.addInitialize(new Proton.Life(2, 4));\n    emitter.addInitialize(\n      new Proton.Velocity(\n        new Proton.Span(4, 7),\n        new Proton.Span(0, 360),\n        \"polar\"\n      )\n    );\n    emitter.addInitialize(\n      new Proton.Position(new Proton.CircleZone(width / 2, height / 2, 100))\n    );\n\n    emitter.addBehaviour(new Proton.Alpha(1, 0));\n    emitter.addBehaviour(new Proton.Scale(0.2, 1));\n    emitter.addBehaviour(this.createCustomBehaviour());\n    emitter.addBehaviour(new Proton.Color(this.colors, \"random\"));\n    emitter.emit();\n    this.proton.addEmitter(emitter);\n\n    const renderer = new Proton.CanvasRenderer(canvas);\n    this.proton.addRenderer(renderer);\n  }\n\n  createCustomBehaviour() {\n    const f = 10 * 100;\n    return {\n      initialize: function(particle) {\n        particle.f = new Proton.Vector2D(0, 0);\n      },\n      applyBehaviour: particle => {\n        let length = particle.v.length() / 1000;\n        let gradient = particle.v.getGradient();\n        gradient += 3.14 / 2;\n\n        particle.f.x = f * length * Math.cos(gradient);\n        particle.f.y = f * length * Math.sin(gradient);\n        particle.a.add(particle.f);\n      }\n    };\n  }\n\n  renderProton() {\n    this.proton && this.proton.update();\n  }\n\n  render() {\n    return (\n      <Canvas bg={this.props.bg}\n        globalCompositeOperation=\"xor\"\n        onCanvasInited={this.onCanvasInited.bind(this)}\n        onResize={this.onResize.bind(this)}\n      />\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Rand from \"./utils/Rand.js\";\nimport Ball from \"./particles/Ball.jsx\";\nimport Color from \"./particles/Color.jsx\";\nimport Custom from \"./particles/Custom.jsx\";\nimport Lines from \"./particles/Lines.jsx\";\nimport Thick from \"./particles/Thick.jsx\";\nimport Square from \"./particles/Square.jsx\";\nimport Cobweb from \"./particles/Cobweb.jsx\";\nimport Circle from \"./particles/Circle.jsx\";\nimport Tadpole from \"./particles/Tadpole.jsx\";\nimport Polygon from \"./particles/Polygon.jsx\";\nimport Fountain from \"./particles/Fountain.jsx\";\n\nexport default class ParticlesBg extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getRandom() {\n    const { num, bg, color } = this.props;\n\n    // Code source from here, thanks author\n    // https://github.com/drawcall/Proton/blob/gh-pages/source/src/utils/Rand.js\n    if (!this.random) {\n      this.random = new Rand();\n      this.random.set(0.25, <Color num={num} bg={bg} color={color} />);\n      this.random.set(0.2, <Ball num={num} bg={bg} color={color} />);\n      this.random.set(0.2, <Lines num={num} bg={bg} color={color} />);\n      this.random.set(0.16, <Thick num={num} bg={bg} color={color} />);\n      this.random.set(0.18, <Circle num={num} bg={bg} color={color} />);\n      this.random.set(0.04, <Cobweb num={num} bg={bg} color={color} />);\n      this.random.set(0.1, <Polygon num={num} bg={bg} color={color} />);\n      this.random.set(0.08, <Square num={num} bg={bg} color={color} />);\n      this.random.set(0.18, <Tadpole num={num} bg={bg} color={color} />);\n      this.random.set(0.15, <Fountain num={num} bg={bg} color={color} />);\n    }\n    return this.random.getResult();\n  }\n\n  getBgParticles() {\n    const { type, num, bg, color, config } = this.props;\n\n    let particles;\n    switch (String(type).toLowerCase()) {\n      case \"color\":\n        particles = <Color num={num} bg={bg} color={color} />;\n        break;\n      case \"ball\":\n        particles = <Ball num={num} bg={bg} color={color} />;\n        break;\n      case \"lines\":\n        particles = <Lines num={num} bg={bg} color={color} />;\n        break;\n      case \"thick\":\n        particles = <Thick num={num} bg={bg} color={color} />;\n        break;\n      case \"circle\":\n        particles = <Circle num={num} bg={bg} color={color} />;\n        break;\n      case \"cobweb\":\n        particles = <Cobweb num={num} bg={bg} color={color} />;\n        break;\n      case \"polygon\":\n        particles = <Polygon num={num} bg={bg} color={color} />;\n        break;\n      case \"square\":\n        particles = <Square num={num} bg={bg} color={color} />;\n        break;\n      case \"tadpole\":\n        particles = <Tadpole num={num} bg={bg} color={color} />;\n        break;\n      case \"fountain\":\n        particles = <Fountain num={num} bg={bg} color={color} />;\n        break;\n      case \"custom\":\n        particles = <Custom bg={bg} config={config} />;\n        break;\n      case \"random\":\n        particles = this.getRandom(num);\n        break;\n\n      default:\n        particles = <Color num={num} bg={bg} color={color} />;\n        break;\n    }\n\n    return particles;\n  }\n\n  render() {\n    const particles = this.getBgParticles();\n    return <React.Fragment>{particles}</React.Fragment>;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}